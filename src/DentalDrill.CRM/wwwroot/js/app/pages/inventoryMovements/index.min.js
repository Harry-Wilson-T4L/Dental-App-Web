var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var HiddenInputList = /** @class */ (function () {
                        function HiddenInputList(root) {
                            this._root = root;
                        }
                        HiddenInputList.prototype.clear = function () {
                            this._root.innerHTML = "";
                        };
                        HiddenInputList.prototype.add = function (name, value) {
                            var input = document.createElement("input");
                            input.type = "hidden";
                            input.name = name;
                            input.value = value;
                            this._root.appendChild(input);
                        };
                        return HiddenInputList;
                    }());
                    Shared.HiddenInputList = HiddenInputList;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=HiddenInputList.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var HandpieceStatus;
                    (function (HandpieceStatus) {
                        HandpieceStatus[HandpieceStatus["None"] = 0] = "None";
                        HandpieceStatus[HandpieceStatus["Received"] = 10] = "Received";
                        HandpieceStatus[HandpieceStatus["BeingEstimated"] = 20] = "BeingEstimated";
                        HandpieceStatus[HandpieceStatus["WaitingForApproval"] = 30] = "WaitingForApproval";
                        HandpieceStatus[HandpieceStatus["TbcHoldOn"] = 31] = "TbcHoldOn";
                        HandpieceStatus[HandpieceStatus["NeedsReApproval"] = 32] = "NeedsReApproval";
                        HandpieceStatus[HandpieceStatus["EstimateSent"] = 35] = "EstimateSent";
                        HandpieceStatus[HandpieceStatus["BeingRepaired"] = 40] = "BeingRepaired";
                        HandpieceStatus[HandpieceStatus["WaitingForParts"] = 41] = "WaitingForParts";
                        HandpieceStatus[HandpieceStatus["TradeIn"] = 42] = "TradeIn";
                        HandpieceStatus[HandpieceStatus["ReadyToReturn"] = 50] = "ReadyToReturn";
                        HandpieceStatus[HandpieceStatus["ReturnUnrepaired"] = 51] = "ReturnUnrepaired";
                        HandpieceStatus[HandpieceStatus["SentComplete"] = 60] = "SentComplete";
                        HandpieceStatus[HandpieceStatus["Cancelled"] = 70] = "Cancelled";
                        HandpieceStatus[HandpieceStatus["Unrepairable"] = 71] = "Unrepairable";
                    })(HandpieceStatus = Shared.HandpieceStatus || (Shared.HandpieceStatus = {}));
                    var HandpieceStatusHelper = /** @class */ (function () {
                        function HandpieceStatusHelper() {
                        }
                        HandpieceStatusHelper.toDisplayString = function (value) {
                            switch (value) {
                                case HandpieceStatus.None:
                                    return "None";
                                case HandpieceStatus.Received:
                                    return "Received";
                                case HandpieceStatus.BeingEstimated:
                                    return "Being estimated";
                                case HandpieceStatus.WaitingForApproval:
                                    return "Estimate Complete";
                                case HandpieceStatus.TbcHoldOn:
                                    return "Tbc hold on";
                                case HandpieceStatus.NeedsReApproval:
                                    return "Needs approval";
                                case HandpieceStatus.EstimateSent:
                                    return "Estimate sent";
                                case HandpieceStatus.BeingRepaired:
                                    return "Being repaired";
                                case HandpieceStatus.WaitingForParts:
                                    return "Waiting for parts";
                                case HandpieceStatus.TradeIn:
                                    return "Trade-in";
                                case HandpieceStatus.ReadyToReturn:
                                    return "Ready to return";
                                case HandpieceStatus.ReturnUnrepaired:
                                    return "Return unrepaired";
                                case HandpieceStatus.SentComplete:
                                    return "Sent complete";
                                case HandpieceStatus.Cancelled:
                                    return "Cancelled";
                                case HandpieceStatus.Unrepairable:
                                    return "Unrepairable";
                            }
                        };
                        HandpieceStatusHelper.createDataSource = function () {
                            var items = [
                                HandpieceStatus.Received,
                                HandpieceStatus.BeingEstimated,
                                HandpieceStatus.WaitingForApproval,
                                HandpieceStatus.TbcHoldOn,
                                HandpieceStatus.NeedsReApproval,
                                HandpieceStatus.EstimateSent,
                                HandpieceStatus.BeingRepaired,
                                HandpieceStatus.WaitingForParts,
                                HandpieceStatus.TradeIn,
                                HandpieceStatus.ReadyToReturn,
                                HandpieceStatus.ReturnUnrepaired,
                                HandpieceStatus.SentComplete,
                                HandpieceStatus.Cancelled,
                                HandpieceStatus.Unrepairable,
                            ];
                            return new kendo.data.DataSource({
                                data: items.map(function (x) { return ({ name: HandpieceStatusHelper.toDisplayString(x), value: x }); })
                            });
                        };
                        return HandpieceStatusHelper;
                    }());
                    Shared.HandpieceStatusHelper = HandpieceStatusHelper;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=HandpieceStatus.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var InventoryMovementDirection;
                    (function (InventoryMovementDirection) {
                        InventoryMovementDirection[InventoryMovementDirection["Increase"] = 0] = "Increase";
                        InventoryMovementDirection[InventoryMovementDirection["Decrease"] = 1000] = "Decrease";
                    })(InventoryMovementDirection = Shared.InventoryMovementDirection || (Shared.InventoryMovementDirection = {}));
                    var InventoryMovementDirectionHelper = /** @class */ (function () {
                        function InventoryMovementDirectionHelper() {
                        }
                        InventoryMovementDirectionHelper.toDisplayString = function (value) {
                            switch (value) {
                                case InventoryMovementDirection.Increase:
                                    return "Increase";
                                case InventoryMovementDirection.Decrease:
                                    return "Decrease";
                                default:
                                    throw new Error("Invalid movement direction");
                            }
                        };
                        return InventoryMovementDirectionHelper;
                    }());
                    Shared.InventoryMovementDirectionHelper = InventoryMovementDirectionHelper;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementDirection.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var InventoryMovementType;
                    (function (InventoryMovementType) {
                        InventoryMovementType[InventoryMovementType["Initial"] = 0] = "Initial";
                        InventoryMovementType[InventoryMovementType["Order"] = 1] = "Order";
                        InventoryMovementType[InventoryMovementType["Found"] = 2] = "Found";
                        InventoryMovementType[InventoryMovementType["MoveFromAnotherWorkshop"] = 100] = "MoveFromAnotherWorkshop";
                        InventoryMovementType[InventoryMovementType["EphemeralMissingRequiredQuantity"] = 500] = "EphemeralMissingRequiredQuantity";
                        InventoryMovementType[InventoryMovementType["Repair"] = 1000] = "Repair";
                        InventoryMovementType[InventoryMovementType["Lost"] = 1001] = "Lost";
                        InventoryMovementType[InventoryMovementType["RepairFragment"] = 1002] = "RepairFragment";
                        InventoryMovementType[InventoryMovementType["MoveToAnotherWorkshop"] = 1100] = "MoveToAnotherWorkshop";
                    })(InventoryMovementType = Shared.InventoryMovementType || (Shared.InventoryMovementType = {}));
                    var InventoryMovementCreateType;
                    (function (InventoryMovementCreateType) {
                        InventoryMovementCreateType[InventoryMovementCreateType["Order"] = 1] = "Order";
                        InventoryMovementCreateType[InventoryMovementCreateType["Found"] = 2] = "Found";
                        InventoryMovementCreateType[InventoryMovementCreateType["Lost"] = 1001] = "Lost";
                        InventoryMovementCreateType[InventoryMovementCreateType["MoveBetweenWorkshops"] = 5000] = "MoveBetweenWorkshops";
                        InventoryMovementCreateType[InventoryMovementCreateType["MoveFromAnotherWorkshop"] = 100] = "MoveFromAnotherWorkshop";
                        InventoryMovementCreateType[InventoryMovementCreateType["MoveToAnotherWorkshop"] = 1100] = "MoveToAnotherWorkshop";
                    })(InventoryMovementCreateType = Shared.InventoryMovementCreateType || (Shared.InventoryMovementCreateType = {}));
                    var InventoryMovementTypeHelper = /** @class */ (function () {
                        function InventoryMovementTypeHelper() {
                        }
                        InventoryMovementTypeHelper.toDisplayString = function (value) {
                            switch (value) {
                                case InventoryMovementType.Initial:
                                    return "Initial";
                                case InventoryMovementType.Order:
                                    return "Order";
                                case InventoryMovementType.Found:
                                    return "Found";
                                case InventoryMovementType.MoveFromAnotherWorkshop:
                                    return "Move from another workshop";
                                case InventoryMovementType.EphemeralMissingRequiredQuantity:
                                    return "Pending Order";
                                case InventoryMovementType.Repair:
                                    return "Repair";
                                case InventoryMovementType.Lost:
                                    return "Lost";
                                case InventoryMovementType.RepairFragment:
                                    return "Repair (Partial)";
                                case InventoryMovementType.MoveToAnotherWorkshop:
                                    return "Move to another workshop";
                                default:
                                    throw new Error("Invalid movement type");
                            }
                        };
                        InventoryMovementTypeHelper.createDataSource = function () {
                            var items = [
                                InventoryMovementType.Initial,
                                InventoryMovementType.Order,
                                InventoryMovementType.Found,
                                InventoryMovementType.MoveFromAnotherWorkshop,
                                InventoryMovementType.EphemeralMissingRequiredQuantity,
                                InventoryMovementType.Repair,
                                InventoryMovementType.Lost,
                                InventoryMovementType.RepairFragment,
                                InventoryMovementType.MoveToAnotherWorkshop,
                            ];
                            return new kendo.data.DataSource({
                                data: items.map(function (x) { return ({ name: InventoryMovementTypeHelper.toDisplayString(x), value: x }); })
                            });
                        };
                        return InventoryMovementTypeHelper;
                    }());
                    Shared.InventoryMovementTypeHelper = InventoryMovementTypeHelper;
                    var InventoryMovementCreateTypeHelper = /** @class */ (function () {
                        function InventoryMovementCreateTypeHelper() {
                        }
                        InventoryMovementCreateTypeHelper.toDisplayString = function (value) {
                            switch (value) {
                                case InventoryMovementCreateType.Order:
                                    return "Order";
                                case InventoryMovementCreateType.Found:
                                    return "Found";
                                case InventoryMovementCreateType.Lost:
                                    return "Lost";
                                case InventoryMovementCreateType.MoveBetweenWorkshops:
                                    return "Move between workshops";
                                case InventoryMovementCreateType.MoveFromAnotherWorkshop:
                                    return "Move from another workshop";
                                case InventoryMovementCreateType.MoveToAnotherWorkshop:
                                    return "Move to another workshop";
                                default:
                                    throw new Error("Invalid movement type");
                            }
                        };
                        return InventoryMovementCreateTypeHelper;
                    }());
                    Shared.InventoryMovementCreateTypeHelper = InventoryMovementCreateTypeHelper;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementType.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var InventoryMovementStatus;
                    (function (InventoryMovementStatus) {
                        InventoryMovementStatus[InventoryMovementStatus["Cancelled"] = 0] = "Cancelled";
                        InventoryMovementStatus[InventoryMovementStatus["Requested"] = 10] = "Requested";
                        InventoryMovementStatus[InventoryMovementStatus["Approved"] = 20] = "Approved";
                        InventoryMovementStatus[InventoryMovementStatus["Ordered"] = 30] = "Ordered";
                        InventoryMovementStatus[InventoryMovementStatus["Waiting"] = 40] = "Waiting";
                        InventoryMovementStatus[InventoryMovementStatus["Allocated"] = 90] = "Allocated";
                        InventoryMovementStatus[InventoryMovementStatus["Completed"] = 100] = "Completed";
                    })(InventoryMovementStatus = Shared.InventoryMovementStatus || (Shared.InventoryMovementStatus = {}));
                    var InventoryMovementStatusHelper = /** @class */ (function () {
                        function InventoryMovementStatusHelper() {
                        }
                        InventoryMovementStatusHelper.toDisplayString = function (value) {
                            switch (value) {
                                case InventoryMovementStatus.Cancelled:
                                    return "Cancelled";
                                case InventoryMovementStatus.Requested:
                                    return "To be approved";
                                case InventoryMovementStatus.Approved:
                                    return "To be ordered";
                                case InventoryMovementStatus.Ordered:
                                    return "Ordered";
                                case InventoryMovementStatus.Waiting:
                                    return "Waiting";
                                case InventoryMovementStatus.Allocated:
                                    return "Allocated";
                                case InventoryMovementStatus.Completed:
                                    return "Completed";
                                default:
                                    throw new Error("Invalid movement status");
                            }
                        };
                        InventoryMovementStatusHelper.createDataSource = function () {
                            var items = [
                                InventoryMovementStatus.Requested,
                                InventoryMovementStatus.Approved,
                                InventoryMovementStatus.Ordered,
                                InventoryMovementStatus.Waiting,
                                InventoryMovementStatus.Allocated,
                                InventoryMovementStatus.Completed,
                            ];
                            return new kendo.data.DataSource({
                                data: items.map(function (x) { return ({ name: InventoryMovementStatusHelper.toDisplayString(x), value: x }); })
                            });
                        };
                        return InventoryMovementStatusHelper;
                    }());
                    Shared.InventoryMovementStatusHelper = InventoryMovementStatusHelper;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementStatus.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var BulkEditStatus;
                    (function (BulkEditStatus) {
                        BulkEditStatus[BulkEditStatus["Normal"] = 0] = "Normal";
                        BulkEditStatus[BulkEditStatus["Postponed"] = 1] = "Postponed";
                        BulkEditStatus[BulkEditStatus["Cancelled"] = 2] = "Cancelled";
                    })(BulkEditStatus = Shared.BulkEditStatus || (Shared.BulkEditStatus = {}));
                    var InventoryMovementBulkModelWrapper = /** @class */ (function () {
                        function InventoryMovementBulkModelWrapper(inner) {
                            this._inner = inner;
                        }
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "Id", {
                            get: function () {
                                return this._inner.Id;
                            },
                            set: function (val) {
                                this._inner.Id = val;
                                this._inner.set("Id", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "Direction", {
                            get: function () {
                                return this._inner.Direction;
                            },
                            set: function (val) {
                                this._inner.Direction = val;
                                this._inner.set("Direction", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "Type", {
                            get: function () {
                                return this._inner.Type;
                            },
                            set: function (val) {
                                this._inner.Type = val;
                                this._inner.set("Type", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "Status", {
                            get: function () {
                                return this._inner.Status;
                            },
                            set: function (val) {
                                this._inner.Status = val;
                                this._inner.set("Status", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "HandpieceId", {
                            get: function () {
                                return this._inner.HandpieceId;
                            },
                            set: function (val) {
                                this._inner.HandpieceId = val;
                                this._inner.set("HandpieceId", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "HandpieceNumber", {
                            get: function () {
                                return this._inner.HandpieceNumber;
                            },
                            set: function (val) {
                                this._inner.HandpieceNumber = val;
                                this._inner.set("HandpieceNumber", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "HandpieceStatus", {
                            get: function () {
                                return this._inner.HandpieceStatus;
                            },
                            set: function (val) {
                                this._inner.HandpieceStatus = val;
                                this._inner.set("HandpieceStatus", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "RequiredQuantity", {
                            get: function () {
                                return this._inner.RequiredQuantity;
                            },
                            set: function (val) {
                                this._inner.RequiredQuantity = val;
                                this._inner.set("RequiredQuantity", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "Quantity", {
                            get: function () {
                                return this._inner.Quantity;
                            },
                            set: function (val) {
                                this._inner.Quantity = val;
                                this._inner.set("Quantity", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "QuantityAbsolute", {
                            get: function () {
                                return this._inner.QuantityAbsolute;
                            },
                            set: function (val) {
                                this._inner.QuantityAbsolute = val;
                                this._inner.set("QuantityAbsolute", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "AveragePrice", {
                            get: function () {
                                return this._inner.AveragePrice;
                            },
                            set: function (val) {
                                this._inner.AveragePrice = val;
                                this._inner.set("AveragePrice", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "Price", {
                            get: function () {
                                return this._inner.Price;
                            },
                            set: function (val) {
                                this._inner.Price = val;
                                this._inner.set("Price", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "CreatedOn", {
                            get: function () {
                                return this._inner.CreatedOn;
                            },
                            set: function (val) {
                                this._inner.CreatedOn = val;
                                this._inner.set("CreatedOn", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "CompletedOn", {
                            get: function () {
                                return this._inner.CompletedOn;
                            },
                            set: function (val) {
                                this._inner.CompletedOn = val;
                                this._inner.set("CompletedOn", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "PartsComment", {
                            get: function () {
                                return this._inner.PartsComment;
                            },
                            set: function (val) {
                                this._inner.PartsComment = val;
                                this._inner.set("PartsComment", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "MovementComment", {
                            get: function () {
                                return this._inner.MovementComment;
                            },
                            set: function (val) {
                                this._inner.MovementComment = val;
                                this._inner.set("MovementComment", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkModelWrapper.prototype, "BulkEditStatus", {
                            get: function () {
                                return this._inner.BulkEditStatus;
                            },
                            set: function (val) {
                                this._inner.BulkEditStatus = val;
                                this._inner.set("BulkEditStatus", val);
                            },
                            enumerable: false,
                            configurable: true
                        });
                        return InventoryMovementBulkModelWrapper;
                    }());
                    Shared.InventoryMovementBulkModelWrapper = InventoryMovementBulkModelWrapper;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementBulkModel.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var InventoryMovementBulkCollection = /** @class */ (function () {
                        function InventoryMovementBulkCollection() {
                            this._direction = undefined;
                            this._type = undefined;
                            this._status = undefined;
                            this._averagePrice = undefined;
                            this._extraInitialQuantity = undefined;
                            this._list = [];
                        }
                        Object.defineProperty(InventoryMovementBulkCollection.prototype, "direction", {
                            get: function () {
                                return this._direction;
                            },
                            set: function (val) {
                                this._direction = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkCollection.prototype, "type", {
                            get: function () {
                                return this._type;
                            },
                            set: function (val) {
                                this._type = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkCollection.prototype, "status", {
                            get: function () {
                                return this._status;
                            },
                            set: function (val) {
                                this._status = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkCollection.prototype, "averagePrice", {
                            get: function () {
                                return this._averagePrice;
                            },
                            set: function (val) {
                                this._averagePrice = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementBulkCollection.prototype, "extraInitialQuantity", {
                            get: function () {
                                return this._extraInitialQuantity;
                            },
                            set: function (val) {
                                this._extraInitialQuantity = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        InventoryMovementBulkCollection.prototype.add = function (movement) {
                            this._list.push(movement);
                        };
                        InventoryMovementBulkCollection.prototype.getBulkMovements = function () {
                            var result = [];
                            for (var _i = 0, _a = this._list; _i < _a.length; _i++) {
                                var item = _a[_i];
                                result.push({
                                    Id: item.Id,
                                    Direction: item.Direction,
                                    Type: item.Type,
                                    Status: item.Status,
                                    HandpieceId: item.HandpieceId,
                                    HandpieceNumber: item.HandpieceNumber,
                                    HandpieceStatus: item.HandpieceStatus,
                                    RequiredQuantity: item.RequiredQuantity,
                                    Quantity: item.Quantity,
                                    QuantityAbsolute: item.QuantityAbsolute,
                                    AveragePrice: item.AveragePrice,
                                    Price: item.Price,
                                    CreatedOn: this.parseDate(item.CreatedOn),
                                    CompletedOn: this.parseDate(item.CompletedOn),
                                    PartsComment: item.PartsComment,
                                    MovementComment: item.MovementComment,
                                    BulkEditStatus: Shared.BulkEditStatus.Normal,
                                });
                            }
                            return result;
                        };
                        InventoryMovementBulkCollection.prototype.parseDate = function (value) {
                            if (value === undefined || value === null) {
                                return null;
                            }
                            if (typeof value === "string") {
                                return new Date(value + "Z");
                            }
                            if (typeof value === "object") {
                                if (value instanceof Date) {
                                    return value;
                                }
                                else {
                                    throw new Error("Invalid date object type");
                                }
                            }
                            throw new Error("Invalid date type");
                        };
                        return InventoryMovementBulkCollection;
                    }());
                    Shared.InventoryMovementBulkCollection = InventoryMovementBulkCollection;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementBulkCollection.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var InventoryMovementBulkEditor = /** @class */ (function () {
                        function InventoryMovementBulkEditor(root, movements) {
                            this._root = root;
                            this._movements = movements;
                        }
                        InventoryMovementBulkEditor.prototype.init = function () {
                            var _this = this;
                            this._items = this._movements.getBulkMovements();
                            if (!this._items.some(function (x) { return x.HandpieceId === undefined || x.HandpieceId === null; })) {
                                this._items.push({
                                    Id: "00000000-0000-0000-0000-000000000000",
                                    Direction: this._movements.direction,
                                    Type: this._movements.type,
                                    Status: this._movements.status,
                                    AveragePrice: this._movements.averagePrice,
                                    QuantityAbsolute: this._movements.extraInitialQuantity ? this._movements.extraInitialQuantity : 0,
                                    Quantity: this._movements.extraInitialQuantity ? this._movements.extraInitialQuantity : 0,
                                    CreatedOn: null,
                                    CompletedOn: null,
                                    HandpieceId: null,
                                    HandpieceNumber: null,
                                    HandpieceStatus: null,
                                    RequiredQuantity: null,
                                    Price: null,
                                    PartsComment: null,
                                    MovementComment: null,
                                    BulkEditStatus: Shared.BulkEditStatus.Normal,
                                });
                            }
                            else if (this._movements.extraInitialQuantity && this._movements.extraInitialQuantity > 0) {
                                this._items.push({
                                    Id: "00000000-0000-0000-0000-000000000000",
                                    Direction: this._movements.direction,
                                    Type: this._movements.type,
                                    Status: this._movements.status,
                                    AveragePrice: this._movements.averagePrice,
                                    QuantityAbsolute: this._movements.extraInitialQuantity ? this._movements.extraInitialQuantity : 0,
                                    Quantity: this._movements.extraInitialQuantity ? this._movements.extraInitialQuantity : 0,
                                    CreatedOn: null,
                                    CompletedOn: null,
                                    HandpieceId: null,
                                    HandpieceNumber: null,
                                    HandpieceStatus: null,
                                    RequiredQuantity: null,
                                    Price: null,
                                    PartsComment: null,
                                    MovementComment: null,
                                    BulkEditStatus: Shared.BulkEditStatus.Normal,
                                });
                            }
                            this._dataSource = this.createDataSource();
                            this._grid = this.createGrid();
                            this._form = this._root.querySelector("form.inventory-group-editor__form");
                            this._form.addEventListener("submit", function (e) { return _this.onBeforeSubmit(e); });
                            this._totalQuantity = this._root.querySelector("input.inventory-group-editor__total-quantity");
                            this._totalQuantity.addEventListener("change", function (e) { return _this.updateQuantityFromTotal(); });
                            this._movementsResult = new Shared.HiddenInputList(this._root.querySelector("div.inventory-group-editor__data"));
                            this.updateTotalQuantityFromItems();
                        };
                        InventoryMovementBulkEditor.prototype.createGrid = function () {
                            var _this = this;
                            var gridContainer = this._root.querySelector(".grid-container");
                            var gridContainerElement = document.createElement("div");
                            gridContainerElement.classList.add("k-grid-commandicons2");
                            gridContainerElement.classList.add("k-grid--dense");
                            gridContainerElement.classList.add("k-grid--small-text");
                            gridContainer.appendChild(gridContainerElement);
                            var grid = $(gridContainerElement).kendoGrid({
                                columns: this.initializeColumns(),
                                dataSource: this._dataSource,
                                editable: "incell",
                                scrollable: true,
                                dataBound: function (e) {
                                    e.sender.tbody.find("tr[role='row']").each(function (index, element) {
                                        var item = e.sender.dataItem(element);
                                        _this.updateRowStatus(element, item);
                                        $(element).find(".inventory-movements-comment").kendoTooltip();
                                    });
                                },
                                save: function (e) {
                                    setTimeout(function () {
                                        _this.updateTotalQuantityFromItems();
                                    });
                                }
                            }).data("kendoGrid");
                            return grid;
                        };
                        InventoryMovementBulkEditor.prototype.updateRowStatus = function (row, item) {
                            var postponeButton = row.querySelector(".k-grid-CustomPostpone");
                            var cancelButton = row.querySelector(".k-grid-CustomCancel");
                            switch (item.BulkEditStatus) {
                                case Shared.BulkEditStatus.Normal:
                                    postponeButton.classList.remove("active");
                                    cancelButton.classList.remove("active");
                                    break;
                                case Shared.BulkEditStatus.Postponed:
                                    postponeButton.classList.add("active");
                                    cancelButton.classList.remove("active");
                                    break;
                                case Shared.BulkEditStatus.Cancelled:
                                    postponeButton.classList.remove("active");
                                    cancelButton.classList.add("active");
                                    break;
                            }
                        };
                        InventoryMovementBulkEditor.prototype.initializeColumns = function () {
                            var _this = this;
                            var columns = [];
                            columns.push({
                                title: "Date",
                                field: "CreatedOn",
                                width: 70,
                                template: function (data) {
                                    if (data.CreatedOn !== undefined && data.CreatedOn !== null) {
                                        return kendo.toString(data.CreatedOn, "d");
                                    }
                                    else {
                                        return "";
                                    }
                                },
                            });
                            columns.push({
                                title: "QTY",
                                field: "QuantityAbsolute",
                                width: 75,
                                template: function (data) {
                                    if (data.QuantityAbsolute !== undefined && data.QuantityAbsolute !== null) {
                                        if (data.RequiredQuantity !== undefined && data.RequiredQuantity !== null) {
                                            return data.QuantityAbsolute + " / " + data.RequiredQuantity;
                                        }
                                        else {
                                            return "" + data.QuantityAbsolute;
                                        }
                                    }
                                },
                                editor: function (container, options) {
                                    var input = document.createElement("input");
                                    input.type = "number";
                                    input.name = options.field;
                                    input.classList.add("k-textbox");
                                    var item = options.model;
                                    if (item && item.RequiredQuantity !== undefined && item.RequiredQuantity !== null) {
                                        input.addEventListener("change", function (e) {
                                            var value = parseFloat(input.value);
                                            if (value > item.RequiredQuantity) {
                                                input.value = item.RequiredQuantity.toString();
                                            }
                                        });
                                    }
                                    container.append(input);
                                },
                            });
                            columns.push({
                                title: "Job",
                                width: 50,
                                template: function (data) {
                                    if (data.HandpieceId !== undefined &&
                                        data.HandpieceId !== null &&
                                        data.HandpieceNumber !== undefined &&
                                        data.HandpieceNumber !== null) {
                                        return "<a href=\"/Handpieces/Edit/" + data.HandpieceId + "\">" + data.HandpieceNumber + "</a>";
                                    }
                                    else {
                                        return "Shelf";
                                    }
                                },
                            });
                            columns.push({
                                title: "Job Status",
                                width: 100,
                                template: function (data) {
                                    if (data.HandpieceStatus !== undefined && data.HandpieceStatus !== null) {
                                        return Shared.HandpieceStatusHelper.toDisplayString(data.HandpieceStatus);
                                    }
                                    return "";
                                },
                            });
                            columns.push({
                                title: "Parts Comment",
                                field: "PartsComment",
                                width: 65,
                                template: function (data) {
                                    if (data.PartsComment === undefined || data.PartsComment === null) {
                                        return "";
                                    }
                                    var span = document.createElement("span");
                                    span.classList.add("inventory-movements-comment");
                                    span.title = data.PartsComment;
                                    span.appendChild(document.createTextNode("See here"));
                                    return span.outerHTML;
                                }
                            });
                            columns.push({
                                title: "Move Comment",
                                field: "MovementComment",
                                width: 65,
                                template: function (data) {
                                    if (data.MovementComment === undefined || data.MovementComment === null) {
                                        return "";
                                    }
                                    var span = document.createElement("span");
                                    span.classList.add("inventory-movements-comment");
                                    span.title = data.MovementComment;
                                    span.appendChild(document.createTextNode("See here"));
                                    return span.outerHTML;
                                }
                            });
                            columns.push({
                                title: "Price",
                                field: "Price",
                                width: 75,
                                template: function (data) {
                                    if (!(data.Price === undefined || data.Price === null)) {
                                        return "$" + kendo.toString(data.Price, "#,##0.##");
                                    }
                                    if (!(data.AveragePrice === undefined || data.AveragePrice === null)) {
                                        return "<i>$" + kendo.toString(data.AveragePrice, "#,##0.##") + "</i>";
                                    }
                                    return "";
                                },
                                editor: function (container, options) {
                                    var input = document.createElement("input");
                                    input.type = "number";
                                    input.name = options.field;
                                    input.classList.add("k-textbox");
                                    container.append(input);
                                },
                            });
                            columns.push({
                                title: "Total Price",
                                width: 75,
                                template: function (data) {
                                    if (data.QuantityAbsolute === undefined || data.QuantityAbsolute === null) {
                                        return "";
                                    }
                                    if (!(data.Price === undefined || data.Price === null)) {
                                        return "$" + kendo.toString(data.Price * data.QuantityAbsolute, "#,##0.##");
                                    }
                                    if (!(data.AveragePrice === undefined || data.AveragePrice === null)) {
                                        return "<i>$" + kendo.toString(data.AveragePrice * data.QuantityAbsolute, "#,##0.##") + "</i>";
                                    }
                                    return "";
                                }
                            });
                            columns.push({
                                title: "Actions",
                                width: 240,
                                command: [
                                    {
                                        name: "CustomOpenJob",
                                        iconClass: "fas fa-link",
                                        text: "&nbsp; Job",
                                        click: function (e) {
                                            e.preventDefault();
                                        }
                                    },
                                    {
                                        name: "CustomPostpone",
                                        iconClass: "fas fa-clock",
                                        text: "&nbsp; Postpone",
                                        click: function (e) {
                                            e.preventDefault();
                                            var row = e.target.closest("tr");
                                            var dataItem = new Shared.InventoryMovementBulkModelWrapper(_this._grid.dataItem(row));
                                            if (dataItem.BulkEditStatus !== Shared.BulkEditStatus.Postponed) {
                                                dataItem.BulkEditStatus = Shared.BulkEditStatus.Postponed;
                                            }
                                            else {
                                                dataItem.BulkEditStatus = Shared.BulkEditStatus.Normal;
                                            }
                                            _this._dataSource.sync();
                                            _this.updateRowStatus(row, dataItem);
                                            _this.updateTotalQuantityFromItems();
                                        }
                                    },
                                    {
                                        name: "CustomCancel",
                                        iconClass: "fas fa-ban",
                                        text: "&nbsp; Cancel",
                                        click: function (e) {
                                            e.preventDefault();
                                            var row = e.target.closest("tr");
                                            var dataItem = new Shared.InventoryMovementBulkModelWrapper(_this._grid.dataItem(row));
                                            if (dataItem.BulkEditStatus !== Shared.BulkEditStatus.Cancelled) {
                                                dataItem.BulkEditStatus = Shared.BulkEditStatus.Cancelled;
                                            }
                                            else {
                                                dataItem.BulkEditStatus = Shared.BulkEditStatus.Normal;
                                            }
                                            _this._dataSource.sync();
                                            _this.updateRowStatus(row, dataItem);
                                            _this.updateTotalQuantityFromItems();
                                        }
                                    }
                                ]
                            });
                            return columns;
                        };
                        InventoryMovementBulkEditor.prototype.createDataSource = function () {
                            var dataSource = new kendo.data.DataSource({
                                data: this._items,
                                autoSync: true,
                                schema: {
                                    model: {
                                        id: "Id",
                                        fields: {
                                            Id: { type: "string", editable: false },
                                            Direction: { type: "number", editable: false },
                                            Type: { type: "number", editable: false },
                                            Status: { type: "number", editable: false },
                                            HandpieceId: { type: "string", editable: false },
                                            HandpieceNumber: { type: "string", editable: false },
                                            HandpieceStatus: { type: "number", editable: false },
                                            Quantity: { type: "number", editable: false },
                                            QuantityAbsolute: { type: "number", editable: true },
                                            Price: { type: "number", editable: true },
                                            CreatedOn: { type: "Date", editable: false },
                                            CompletedOn: { type: "Date", editable: false },
                                            PartsComment: { type: "string", editable: false },
                                            MovementComment: { type: "string", editable: false },
                                            BulkEditStatus: { type: "number", editable: false },
                                        }
                                    }
                                }
                            });
                            return dataSource;
                        };
                        InventoryMovementBulkEditor.prototype.updateTotalQuantityFromItems = function () {
                            var items = this._dataSource.data();
                            var totalQuantityValue = items
                                .filter(function (x) { return x.BulkEditStatus === Shared.BulkEditStatus.Normal; })
                                .reduce(function (prev, curr) { return prev + curr.QuantityAbsolute; }, 0);
                            this._totalQuantity.value = totalQuantityValue.toString();
                            this._lastQuantity = totalQuantityValue;
                        };
                        InventoryMovementBulkEditor.prototype.updateQuantityFromTotal = function () {
                            var totalQuantity = parseFloat(this._totalQuantity.value);
                            var items = this._dataSource.data()
                                .map(function (x) { return new Shared.InventoryMovementBulkModelWrapper(x); })
                                .filter(function (x) { return x.BulkEditStatus === Shared.BulkEditStatus.Normal; });
                            if (typeof this._lastQuantity === "number" && typeof totalQuantity === "number") {
                                var delta = totalQuantity - this._lastQuantity;
                                if (delta > 0) {
                                    // Increasing total quantity by <delta>
                                    var remaining = delta;
                                    // Passing through movements with quantity below requested first
                                    for (var i = 0; i < items.length; i++) {
                                        if (items[i].RequiredQuantity !== undefined &&
                                            items[i].RequiredQuantity !== null &&
                                            items[i].RequiredQuantity > items[i].QuantityAbsolute) {
                                            var missing = items[i].RequiredQuantity - items[i].QuantityAbsolute;
                                            var increase = Math.min(remaining, missing);
                                            remaining -= increase;
                                            items[i].Quantity += increase;
                                            items[i].QuantityAbsolute += increase;
                                        }
                                    }
                                    // Trying to dump the rest into first Shelf movement if its present
                                    var firstShelf = items.filter(function (x) { return x.HandpieceId === undefined || x.HandpieceId === null; })[0];
                                    if (firstShelf) {
                                        firstShelf.Quantity += remaining;
                                        firstShelf.QuantityAbsolute += remaining;
                                    }
                                    else {
                                        // Otherwise - dumping everything to first item
                                        items[0].Quantity += remaining;
                                        items[0].QuantityAbsolute += remaining;
                                    }
                                }
                                else if (delta < 0) {
                                    // Decreasing total quantity by <delta>
                                    var remaining = -delta;
                                    // Passing through all Shelf movements first in reverse order
                                    for (var i = items.length - 1; i >= 0; i--) {
                                        if (items[i].HandpieceId === undefined || items[i].HandpieceId === null) {
                                            var reduction = Math.min(items[i].QuantityAbsolute, remaining);
                                            remaining -= reduction;
                                            items[i].Quantity -= reduction;
                                            items[i].QuantityAbsolute -= reduction;
                                        }
                                    }
                                    // Passing through remaining movements in reverse order
                                    for (var i = items.length - 1; i >= 0; i--) {
                                        var reduction = Math.min(items[i].QuantityAbsolute, remaining);
                                        remaining -= reduction;
                                        items[i].Quantity -= reduction;
                                        items[i].QuantityAbsolute -= reduction;
                                    }
                                }
                                this._lastQuantity = totalQuantity;
                                this._grid.dataSource.sync();
                            }
                        };
                        InventoryMovementBulkEditor.prototype.onBeforeSubmit = function (e) {
                            e.preventDefault();
                            this._movementsResult.clear();
                            var items = this._dataSource.data();
                            for (var i = 0; i < items.length; i++) {
                                var item = items[i];
                                this._movementsResult.add("Result[" + i + "].Id", item.Id);
                                if (item.QuantityAbsolute !== undefined && item.QuantityAbsolute !== null) {
                                    this._movementsResult.add("Result[" + i + "].Quantity", item.QuantityAbsolute.toString());
                                }
                                if (item.Price !== undefined && item.Price !== null) {
                                    this._movementsResult.add("Result[" + i + "].Price", item.Price.toString());
                                }
                                this._movementsResult.add("Result[" + i + "].BulkEditStatus", item.BulkEditStatus.toString());
                            }
                        };
                        return InventoryMovementBulkEditor;
                    }());
                    Shared.InventoryMovementBulkEditor = InventoryMovementBulkEditor;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementBulkEditor.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Shared;
                (function (Shared) {
                    var InventoryMovementBulkViewer = /** @class */ (function () {
                        function InventoryMovementBulkViewer(root, movements) {
                            this._root = root;
                            this._movements = movements;
                        }
                        Object.defineProperty(InventoryMovementBulkViewer.prototype, "root", {
                            get: function () {
                                return this._root;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        InventoryMovementBulkViewer.prototype.init = function () {
                            this._items = this._movements.getBulkMovements();
                            if (this._movements.extraInitialQuantity && this._movements.extraInitialQuantity > 0) {
                                this._items.push({
                                    Id: "00000000-0000-0000-0000-000000000000",
                                    Direction: this._movements.direction,
                                    Type: this._movements.type,
                                    Status: this._movements.status,
                                    AveragePrice: this._movements.averagePrice,
                                    QuantityAbsolute: this._movements.extraInitialQuantity ? this._movements.extraInitialQuantity : 0,
                                    Quantity: this._movements.extraInitialQuantity ? this._movements.extraInitialQuantity : 0,
                                    CreatedOn: null,
                                    CompletedOn: null,
                                    HandpieceId: null,
                                    HandpieceNumber: null,
                                    HandpieceStatus: null,
                                    RequiredQuantity: null,
                                    Price: null,
                                    PartsComment: null,
                                    MovementComment: null,
                                    BulkEditStatus: Shared.BulkEditStatus.Normal,
                                });
                            }
                            this._dataSource = this.createDataSource();
                            this._grid = this.createGrid();
                        };
                        InventoryMovementBulkViewer.prototype.createGrid = function () {
                            var gridContainer = this._root.querySelector(".grid-container");
                            var gridContainerElement = document.createElement("div");
                            gridContainerElement.classList.add("k-grid-commandicons2");
                            gridContainerElement.classList.add("k-grid--dense");
                            gridContainerElement.classList.add("k-grid--small-text");
                            gridContainer.appendChild(gridContainerElement);
                            var grid = $(gridContainerElement).kendoGrid({
                                columns: this.initializeColumns(),
                                dataSource: this._dataSource,
                                editable: false,
                                scrollable: true,
                            }).data("kendoGrid");
                            return grid;
                        };
                        InventoryMovementBulkViewer.prototype.initializeColumns = function () {
                            var columns = [];
                            columns.push({
                                title: "Date",
                                field: "CreatedOn",
                                width: 70,
                                template: function (data) {
                                    if (data.CreatedOn !== undefined && data.CreatedOn !== null) {
                                        return kendo.toString(data.CreatedOn, "d");
                                    }
                                    else {
                                        return "";
                                    }
                                },
                            });
                            columns.push({
                                title: "QTY",
                                field: "QuantityAbsolute",
                                width: 75,
                                template: function (data) {
                                    if (data.QuantityAbsolute !== undefined && data.QuantityAbsolute !== null) {
                                        if (data.RequiredQuantity !== undefined && data.RequiredQuantity !== null) {
                                            return data.QuantityAbsolute + " / " + data.RequiredQuantity;
                                        }
                                        else {
                                            return "" + data.QuantityAbsolute;
                                        }
                                    }
                                },
                            });
                            columns.push({
                                title: "Job",
                                width: 50,
                                template: function (data) {
                                    if (data.HandpieceId !== undefined &&
                                        data.HandpieceId !== null &&
                                        data.HandpieceNumber !== undefined &&
                                        data.HandpieceNumber !== null) {
                                        return "<a href=\"/Handpieces/Edit/" + data.HandpieceId + "\">" + data.HandpieceNumber + "</a>";
                                    }
                                    else {
                                        return "Shelf";
                                    }
                                },
                            });
                            columns.push({
                                title: "Job Status",
                                width: 100,
                                template: function (data) {
                                    if (data.HandpieceStatus !== undefined && data.HandpieceStatus !== null) {
                                        return Shared.HandpieceStatusHelper.toDisplayString(data.HandpieceStatus);
                                    }
                                    return "";
                                },
                            });
                            columns.push({
                                title: "Parts Comment",
                                field: "PartsComment",
                                width: 65,
                                template: function (data) {
                                    if (data.PartsComment === undefined || data.PartsComment === null) {
                                        return "";
                                    }
                                    var span = document.createElement("span");
                                    span.classList.add("inventory-movements-comment");
                                    span.title = data.PartsComment;
                                    span.appendChild(document.createTextNode("See here"));
                                    return span.outerHTML;
                                }
                            });
                            columns.push({
                                title: "Move Comment",
                                field: "MovementComment",
                                width: 65,
                                template: function (data) {
                                    if (data.MovementComment === undefined || data.MovementComment === null) {
                                        return "";
                                    }
                                    var span = document.createElement("span");
                                    span.classList.add("inventory-movements-comment");
                                    span.title = data.MovementComment;
                                    span.appendChild(document.createTextNode("See here"));
                                    return span.outerHTML;
                                }
                            });
                            columns.push({
                                title: "Price",
                                field: "Price",
                                width: 75,
                                template: function (data) {
                                    if (!(data.Price === undefined || data.Price === null)) {
                                        return "$" + kendo.toString(data.Price, "#,##0.##");
                                    }
                                    if (!(data.AveragePrice === undefined || data.AveragePrice === null)) {
                                        return "<i>$" + kendo.toString(data.AveragePrice, "#,##0.##") + "</i>";
                                    }
                                    return "";
                                },
                            });
                            columns.push({
                                title: "Total Price",
                                width: 75,
                                template: function (data) {
                                    if (data.QuantityAbsolute === undefined || data.QuantityAbsolute === null) {
                                        return "";
                                    }
                                    if (!(data.Price === undefined || data.Price === null)) {
                                        return "$" + kendo.toString(data.Price * data.QuantityAbsolute, "#,##0.##");
                                    }
                                    if (!(data.AveragePrice === undefined || data.AveragePrice === null)) {
                                        return "<i>$" + kendo.toString(data.AveragePrice * data.QuantityAbsolute, "#,##0.##") + "</i>";
                                    }
                                    return "";
                                }
                            });
                            columns.push({
                                title: "Actions",
                                width: 240,
                                command: []
                            });
                            return columns;
                        };
                        InventoryMovementBulkViewer.prototype.createDataSource = function () {
                            var dataSource = new kendo.data.DataSource({
                                data: this._items,
                                schema: {
                                    model: {
                                        id: "Id",
                                        fields: {
                                            Id: { type: "string", editable: false },
                                            Direction: { type: "number", editable: false },
                                            Type: { type: "number", editable: false },
                                            Status: { type: "number", editable: false },
                                            HandpieceId: { type: "string", editable: false },
                                            HandpieceNumber: { type: "string", editable: false },
                                            HandpieceStatus: { type: "number", editable: false },
                                            Quantity: { type: "number", editable: false },
                                            QuantityAbsolute: { type: "number", editable: false },
                                            Price: { type: "number", editable: false },
                                            CreatedOn: { type: "Date", editable: false },
                                            CompletedOn: { type: "Date", editable: false },
                                            PartsComment: { type: "string", editable: false },
                                            MovementComment: { type: "string", editable: false },
                                            BulkEditStatus: { type: "number", editable: false },
                                        }
                                    }
                                }
                            });
                            return dataSource;
                        };
                        return InventoryMovementBulkViewer;
                    }());
                    Shared.InventoryMovementBulkViewer = InventoryMovementBulkViewer;
                })(Shared = InventoryMovements.Shared || (InventoryMovements.Shared = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementBulkViewer.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var InventoryMovementsIndexOptions = /** @class */ (function () {
                        function InventoryMovementsIndexOptions() {
                            this._sku = undefined;
                            this._showGrouped = false;
                            this._antiForgeryToken = undefined;
                            this._statsTypes = [];
                        }
                        Object.defineProperty(InventoryMovementsIndexOptions.prototype, "workshop", {
                            get: function () {
                                return this._workshop;
                            },
                            set: function (val) {
                                this._workshop = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsIndexOptions.prototype, "sku", {
                            get: function () {
                                return this._sku;
                            },
                            set: function (val) {
                                this._sku = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsIndexOptions.prototype, "showGrouped", {
                            get: function () {
                                return this._showGrouped;
                            },
                            set: function (val) {
                                this._showGrouped = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsIndexOptions.prototype, "tab", {
                            get: function () {
                                return this._tab;
                            },
                            set: function (val) {
                                this._tab = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsIndexOptions.prototype, "antiForgeryToken", {
                            get: function () {
                                return this._antiForgeryToken;
                            },
                            set: function (val) {
                                this._antiForgeryToken = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsIndexOptions.prototype, "statsTypes", {
                            get: function () {
                                return this._statsTypes;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        return InventoryMovementsIndexOptions;
                    }());
                    Index.InventoryMovementsIndexOptions = InventoryMovementsIndexOptions;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementsIndexOptions.js.map
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var InventoryMovementApi = /** @class */ (function () {
                        function InventoryMovementApi(options) {
                            this._options = options;
                        }
                        InventoryMovementApi.prototype.approve = function (id) {
                            return __awaiter(this, void 0, void 0, function () {
                                var response;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, fetch("/InventoryMovements/Approve/" + id, {
                                                method: "POST",
                                                credentials: "same-origin",
                                                cache: "no-cache",
                                                headers: {
                                                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                                                    "X-Requested-With": "XMLHttpRequest",
                                                },
                                                body: this.toFormUrlEncoded({
                                                    "__RequestVerificationToken": this._options.antiForgeryToken
                                                })
                                            })];
                                        case 1:
                                            response = _a.sent();
                                            if (response.status !== 200) {
                                                throw new Error("API call failed");
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            });
                        };
                        InventoryMovementApi.prototype.order = function (id) {
                            return __awaiter(this, void 0, void 0, function () {
                                var response;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, fetch("/InventoryMovements/Order/" + id, {
                                                method: "POST",
                                                credentials: "same-origin",
                                                cache: "no-cache",
                                                headers: {
                                                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                                                    "X-Requested-With": "XMLHttpRequest",
                                                },
                                                body: this.toFormUrlEncoded({
                                                    "__RequestVerificationToken": this._options.antiForgeryToken
                                                })
                                            })];
                                        case 1:
                                            response = _a.sent();
                                            if (response.status !== 200) {
                                                throw new Error("API call failed");
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            });
                        };
                        InventoryMovementApi.prototype.verify = function (id) {
                            return __awaiter(this, void 0, void 0, function () {
                                var response;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, fetch("/InventoryMovements/Verify/" + id, {
                                                method: "POST",
                                                credentials: "same-origin",
                                                cache: "no-cache",
                                                headers: {
                                                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                                                    "X-Requested-With": "XMLHttpRequest",
                                                },
                                                body: this.toFormUrlEncoded({
                                                    "__RequestVerificationToken": this._options.antiForgeryToken
                                                })
                                            })];
                                        case 1:
                                            response = _a.sent();
                                            if (response.status !== 200) {
                                                throw new Error("API call failed");
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            });
                        };
                        InventoryMovementApi.prototype.cancel = function (id) {
                            return __awaiter(this, void 0, void 0, function () {
                                var response;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, fetch("/InventoryMovements/Cancel/" + id, {
                                                method: "POST",
                                                credentials: "same-origin",
                                                cache: "no-cache",
                                                headers: {
                                                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                                                    "X-Requested-With": "XMLHttpRequest",
                                                },
                                                body: this.toFormUrlEncoded({
                                                    "__RequestVerificationToken": this._options.antiForgeryToken
                                                })
                                            })];
                                        case 1:
                                            response = _a.sent();
                                            if (response.status !== 200) {
                                                throw new Error("API call failed");
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            });
                        };
                        InventoryMovementApi.prototype.approveGroup = function (id) {
                            return __awaiter(this, void 0, void 0, function () {
                                var response;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, fetch("/InventoryMovements/GroupApprove?sku=" + id, {
                                                method: "POST",
                                                credentials: "same-origin",
                                                cache: "no-cache",
                                                headers: {
                                                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                                                    "X-Requested-With": "XMLHttpRequest",
                                                },
                                                body: this.toFormUrlEncoded({
                                                    "__RequestVerificationToken": this._options.antiForgeryToken
                                                })
                                            })];
                                        case 1:
                                            response = _a.sent();
                                            if (response.status !== 200) {
                                                throw new Error("API call failed");
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            });
                        };
                        InventoryMovementApi.prototype.orderGroup = function (id) {
                            return __awaiter(this, void 0, void 0, function () {
                                var response;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, fetch("/InventoryMovements/GroupOrder?sku=" + id, {
                                                method: "POST",
                                                credentials: "same-origin",
                                                cache: "no-cache",
                                                headers: {
                                                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                                                    "X-Requested-With": "XMLHttpRequest",
                                                },
                                                body: this.toFormUrlEncoded({
                                                    "__RequestVerificationToken": this._options.antiForgeryToken
                                                })
                                            })];
                                        case 1:
                                            response = _a.sent();
                                            if (response.status !== 200) {
                                                throw new Error("API call failed");
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            });
                        };
                        InventoryMovementApi.prototype.verifyGroup = function (id) {
                            return __awaiter(this, void 0, void 0, function () {
                                var response;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, fetch("/InventoryMovements/GroupVerify?sku=" + id, {
                                                method: "POST",
                                                credentials: "same-origin",
                                                cache: "no-cache",
                                                headers: {
                                                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                                                    "X-Requested-With": "XMLHttpRequest",
                                                },
                                                body: this.toFormUrlEncoded({
                                                    "__RequestVerificationToken": this._options.antiForgeryToken
                                                })
                                            })];
                                        case 1:
                                            response = _a.sent();
                                            if (response.status !== 200) {
                                                throw new Error("API call failed");
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            });
                        };
                        InventoryMovementApi.prototype.cancelGroup = function (id, status) {
                            return __awaiter(this, void 0, void 0, function () {
                                var response;
                                return __generator(this, function (_a) {
                                    switch (_a.label) {
                                        case 0: return [4 /*yield*/, fetch("/InventoryMovements/GroupCancel?sku=" + id + "&status=" + status, {
                                                method: "POST",
                                                credentials: "same-origin",
                                                cache: "no-cache",
                                                headers: {
                                                    "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                                                    "X-Requested-With": "XMLHttpRequest",
                                                },
                                                body: this.toFormUrlEncoded({
                                                    "__RequestVerificationToken": this._options.antiForgeryToken
                                                })
                                            })];
                                        case 1:
                                            response = _a.sent();
                                            if (response.status !== 200) {
                                                throw new Error("API call failed");
                                            }
                                            return [2 /*return*/];
                                    }
                                });
                            });
                        };
                        InventoryMovementApi.prototype.toFormUrlEncoded = function (obj) {
                            var fields = [];
                            for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {
                                var key = _a[_i];
                                fields.push(encodeURIComponent(key) + "=" + encodeURIComponent(obj[key]));
                            }
                            return fields.join("&");
                        };
                        return InventoryMovementApi;
                    }());
                    Index.InventoryMovementApi = InventoryMovementApi;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementsApi.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var InventoryMovementsTabBase = /** @class */ (function () {
                        function InventoryMovementsTabBase(id, root) {
                            this._id = id;
                            this._root = root;
                        }
                        Object.defineProperty(InventoryMovementsTabBase.prototype, "id", {
                            get: function () {
                                return this._id;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsTabBase.prototype, "root", {
                            get: function () {
                                return this._root;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsTabBase.prototype, "initialized", {
                            get: function () {
                                return this._initialized;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        InventoryMovementsTabBase.prototype.init = function () {
                            if (!this._initialized) {
                                this.initInternal();
                                this._initialized = true;
                            }
                        };
                        InventoryMovementsTabBase.prototype.activate = function () {
                        };
                        InventoryMovementsTabBase.prototype.resize = function (visible) {
                        };
                        return InventoryMovementsTabBase;
                    }());
                    Index.InventoryMovementsTabBase = InventoryMovementsTabBase;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementsTabBase.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var InventoryMovementsTabFactory = /** @class */ (function () {
                        function InventoryMovementsTabFactory(options) {
                            this._options = options;
                            this._api = new Index.InventoryMovementApi(options);
                        }
                        InventoryMovementsTabFactory.prototype.createTab = function (id, root) {
                            switch (id) {
                                case "All":
                                    return new Index.GridInventoryMovementsAllTab(id, root, this._options);
                                case "Tray":
                                    return new Index.GridInventoryMovementsTrayTab(id, root, this._options);
                                case "Requested":
                                    return new Index.GridInventoryMovementsRequestedTab(id, root, this._options, this._api);
                                case "Approved":
                                    return new Index.GridInventoryMovementsApprovedTab(id, root, this._options, this._api);
                                case "Ordered":
                                    return new Index.GridInventoryMovementsOrderedTab(id, root, this._options, this._api);
                                case "Complete":
                                    return new Index.GridInventoryMovementsCompleteTab(id, root, this._options);
                                case "AllGroup":
                                    return new Index.GridInventoryGroupMovementsAllTab(id, root, this._options);
                                case "RequestedGroup":
                                    return new Index.GridInventoryGroupMovementsRequestedTab(id, root, this._options, this._api);
                                case "ApprovedGroup":
                                    return new Index.GridInventoryGroupMovementsApprovedTab(id, root, this._options, this._api);
                                case "OrderedGroup":
                                    return new Index.GridInventoryGroupMovementsOrderedTab(id, root, this._options, this._api);
                                case "CompleteGroup":
                                    return new Index.GridInventoryGroupMovementsCompleteTab(id, root, this._options);
                                case "StatsAvailableStock":
                                    return new Index.StatsInventoryMovementsAvailableStockTab(id, root, this._options);
                                default:
                                    throw new Error("Invalid tab id");
                            }
                        };
                        return InventoryMovementsTabFactory;
                    }());
                    Index.InventoryMovementsTabFactory = InventoryMovementsTabFactory;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementsTabFactory.js.map
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var AjaxFormsManager = DevGuild.AspNet.Forms.AjaxForms.AjaxFormsManager;
                    var InventoryMovementsTabsSetState;
                    (function (InventoryMovementsTabsSetState) {
                        InventoryMovementsTabsSetState[InventoryMovementsTabsSetState["Default"] = 0] = "Default";
                        InventoryMovementsTabsSetState[InventoryMovementsTabsSetState["Minimized"] = 1] = "Minimized";
                        InventoryMovementsTabsSetState[InventoryMovementsTabsSetState["Maximized"] = 2] = "Maximized";
                    })(InventoryMovementsTabsSetState = Index.InventoryMovementsTabsSetState || (Index.InventoryMovementsTabsSetState = {}));
                    var InventoryMovementsTabsSet = /** @class */ (function () {
                        function InventoryMovementsTabsSet(collection, container, options, descriptors) {
                            this._state = InventoryMovementsTabsSetState.Default;
                            collection.add(this);
                            this._collection = collection;
                            this._container = container;
                            this._descriptors = descriptors;
                            this._tabFactory = new Index.InventoryMovementsTabFactory(options);
                            this._tabs = new Map();
                            this._tabStrip = this.createTabStrip();
                            this.createToolbar();
                        }
                        Object.defineProperty(InventoryMovementsTabsSet.prototype, "state", {
                            get: function () {
                                return this._state;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsTabsSet.prototype, "activeTab", {
                            get: function () {
                                return this._activeTab;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        InventoryMovementsTabsSet.prototype.select = function (tabIndex) {
                            this._tabStrip.select(tabIndex);
                        };
                        InventoryMovementsTabsSet.prototype.createTabStrip = function () {
                            var _this = this;
                            var element = this._container.appendChild(document.createElement("div"));
                            var dataSource = new kendo.data.DataSource({
                                data: this._descriptors,
                            });
                            return $(element).kendoTabStrip({
                                dataSource: dataSource,
                                dataTextField: "Title",
                                dataContentField: "Content",
                                activate: function (e) {
                                    var tabContent = e.contentElement.querySelector(".inventory-movements-tab");
                                    if (!tabContent) {
                                        throw new Error("Invalid tab content");
                                    }
                                    var tabId = tabContent.getAttribute("data-id");
                                    if (!tabId) {
                                        throw new Error("Invalid tab id");
                                    }
                                    if (_this._tabs.has(tabId)) {
                                        var tab = _this._tabs.get(tabId);
                                        _this._activeTab = tab;
                                        tab.activate();
                                    }
                                    else {
                                        var tab = _this._tabFactory.createTab(tabId, tabContent);
                                        _this._tabs.set(tabId, tab);
                                        _this._activeTab = tab;
                                        tab.init();
                                        tab.activate();
                                    }
                                }
                            }).data("kendoTabStrip");
                        };
                        InventoryMovementsTabsSet.prototype.createToolbar = function () {
                            var _this = this;
                            var element = this._container.appendChild(document.createElement("div"));
                            element.classList.add("inventory-movements__toolbar");
                            element.classList.add("btn-group");
                            var buttonMinimize = element.appendChild(document.createElement("button"));
                            buttonMinimize.type = "button";
                            buttonMinimize.classList.add("btn", "btn-sm", "btn-outline-secondary", "inventory-movements--when-not-minimized");
                            buttonMinimize.appendChild(document.createElement("span")).classList.add("far", "fa-fw", "fa-window-minimize");
                            buttonMinimize.addEventListener("click", function (e) {
                                _this._collection.minimize(_this);
                            });
                            var buttonRestore = element.appendChild(document.createElement("button"));
                            buttonRestore.type = "button";
                            buttonRestore.classList.add("btn", "btn-sm", "btn-outline-secondary", "inventory-movements--when-not-default");
                            buttonRestore.appendChild(document.createElement("span")).classList.add("far", "fa-fw", "fa-window-restore");
                            buttonRestore.addEventListener("click", function (e) {
                                _this._collection.restore(_this);
                            });
                            var buttonMaximize = element.appendChild(document.createElement("button"));
                            buttonMaximize.type = "button";
                            buttonMaximize.classList.add("btn", "btn-sm", "btn-outline-secondary", "inventory-movements--when-not-maximized");
                            buttonMaximize.appendChild(document.createElement("span")).classList.add("far", "fa-fw", "fa-window-maximize");
                            buttonMaximize.addEventListener("click", function (e) {
                                _this._collection.maximize(_this);
                            });
                        };
                        InventoryMovementsTabsSet.prototype.minimize = function () {
                            this._state = InventoryMovementsTabsSetState.Minimized;
                            this._container.classList.add("inventory-movements--minimized");
                            this._container.classList.remove("inventory-movements--maximized");
                            this._container.classList.remove("inventory-movements--default");
                            this.resize(false);
                        };
                        InventoryMovementsTabsSet.prototype.maximize = function () {
                            this._state = InventoryMovementsTabsSetState.Maximized;
                            this._container.classList.remove("inventory-movements--minimized");
                            this._container.classList.add("inventory-movements--maximized");
                            this._container.classList.remove("inventory-movements--default");
                            this.resize(true);
                        };
                        InventoryMovementsTabsSet.prototype.restore = function () {
                            this._state = InventoryMovementsTabsSetState.Default;
                            this._container.classList.remove("inventory-movements--minimized");
                            this._container.classList.remove("inventory-movements--maximized");
                            this._container.classList.add("inventory-movements--default");
                            this.resize(true);
                        };
                        InventoryMovementsTabsSet.prototype.resize = function (visible) {
                            var _this = this;
                            setTimeout(function () {
                                _this._tabs.forEach(function (tab) {
                                    tab.resize(visible);
                                });
                            });
                        };
                        return InventoryMovementsTabsSet;
                    }());
                    Index.InventoryMovementsTabsSet = InventoryMovementsTabsSet;
                    var InventoryMovementsTabsSetCollection = /** @class */ (function () {
                        function InventoryMovementsTabsSetCollection() {
                            this._tabSets = [];
                        }
                        InventoryMovementsTabsSetCollection.prototype.add = function (tabSet) {
                            this._tabSets.push(tabSet);
                        };
                        InventoryMovementsTabsSetCollection.prototype.minimize = function (tabSet) {
                            tabSet.minimize();
                            var others = this.getOthers(tabSet);
                            if (others.length === 1) {
                                others[0].maximize();
                                return;
                            }
                        };
                        InventoryMovementsTabsSetCollection.prototype.maximize = function (tabSet) {
                            tabSet.maximize();
                            var others = this.getOthers(tabSet);
                            for (var _i = 0, _a = others.filter(function (x) { return x.state !== InventoryMovementsTabsSetState.Minimized; }); _i < _a.length; _i++) {
                                var other = _a[_i];
                                other.minimize();
                            }
                        };
                        InventoryMovementsTabsSetCollection.prototype.restore = function (tabSet) {
                            tabSet.restore();
                            var others = this.getOthers(tabSet);
                            for (var _i = 0, others_1 = others; _i < others_1.length; _i++) {
                                var other = others_1[_i];
                                other.restore();
                            }
                        };
                        InventoryMovementsTabsSetCollection.prototype.getOthers = function (except) {
                            return this._tabSets.filter(function (x) { return x !== except; });
                        };
                        return InventoryMovementsTabsSetCollection;
                    }());
                    Index.InventoryMovementsTabsSetCollection = InventoryMovementsTabsSetCollection;
                    var InventoryMovementsIndexPage = /** @class */ (function () {
                        function InventoryMovementsIndexPage(root, options) {
                            this._root = root;
                            this._options = options;
                        }
                        InventoryMovementsIndexPage.prototype.init = function () {
                            this._collection = new InventoryMovementsTabsSetCollection();
                            this._movements = new InventoryMovementsTabsSet(this._collection, this._root.querySelector(".inventory-movements__movements"), this._options, this.createMovementsTabStripDataSource());
                            this._charts = new InventoryMovementsTabsSet(this._collection, this._root.querySelector(".inventory-movements__charts"), this._options, this.createChartsTabStripDataSource());
                            this._movements.select(this.getInitialMovementsTab());
                            this._charts.select(0);
                            this.initActions();
                        };
                        InventoryMovementsIndexPage.prototype.getInitialMovementsTab = function () {
                            if (this._options.showGrouped) {
                                switch (this._options.tab) {
                                    case "Approved":
                                        return 0;
                                    case "Requested":
                                        return 1;
                                    case "Ordered":
                                        return 2;
                                    case "Complete":
                                        return 3;
                                    case "All":
                                        return 4;
                                    default:
                                        return 0;
                                }
                            }
                            else {
                                switch (this._options.tab) {
                                    case "Tray":
                                        return 0;
                                    case "Approved":
                                        return 0;
                                    case "Requested":
                                        return 1;
                                    case "Ordered":
                                        return 2;
                                    case "Complete":
                                        return 3;
                                    case "All":
                                        return 4;
                                    default:
                                        return 0;
                                }
                            }
                            return 0;
                        };
                        InventoryMovementsIndexPage.prototype.createMovementsTabStripDataSource = function () {
                            var data = [];
                            if (this._options.showGrouped) {
                                data.push({
                                    Title: "Order",
                                    Content: this.getMovementTabContent("ApprovedGroup"),
                                });
                                data.push({
                                    Title: "Not Approved",
                                    Content: this.getMovementTabContent("RequestedGroup"),
                                });
                                data.push({
                                    Title: "Verify",
                                    Content: this.getMovementTabContent("OrderedGroup"),
                                });
                                data.push({
                                    Title: "Complete",
                                    Content: this.getMovementTabContent("CompleteGroup"),
                                });
                                data.push({
                                    Title: "All",
                                    Content: this.getMovementTabContent("AllGroup"),
                                });
                            }
                            else {
                                if (this._options.tab === "Tray") {
                                    data.push({
                                        Title: "Tray",
                                        Content: this.getMovementTabContent("Tray"),
                                    });
                                }
                                data.push({
                                    Title: "Order",
                                    Content: this.getMovementTabContent("Approved"),
                                });
                                data.push({
                                    Title: "Not Approved",
                                    Content: this.getMovementTabContent("Requested"),
                                });
                                data.push({
                                    Title: "Verify",
                                    Content: this.getMovementTabContent("Ordered"),
                                });
                                data.push({
                                    Title: "Complete",
                                    Content: this.getMovementTabContent("Complete"),
                                });
                                data.push({
                                    Title: "All",
                                    Content: this.getMovementTabContent("All"),
                                });
                            }
                            return data;
                        };
                        InventoryMovementsIndexPage.prototype.createChartsTabStripDataSource = function () {
                            var data = [];
                            data.push({
                                Title: "Available Stock",
                                Content: this.getMovementTabContent("StatsAvailableStock"),
                            });
                            return data;
                        };
                        InventoryMovementsIndexPage.prototype.getMovementTabContent = function (id) {
                            return "<div class=\"inventory-movements-tab\" data-id=\"" + id + "\">Loading...</div>";
                        };
                        InventoryMovementsIndexPage.prototype.initActions = function () {
                            var _this = this;
                            var createButton = this._root.querySelector(".inventory-movements__actions__create");
                            createButton.addEventListener("click", function (e) {
                                e.preventDefault();
                                var url = new DevGuild.AspNet.Routing.Uri(createButton.getAttribute("href"));
                                if (e.ctrlKey) {
                                    url.open();
                                }
                                else {
                                    var dialogRoot_1 = $("<div></div>");
                                    var dialogOptions = {
                                        title: "Move SKU",
                                        actions: ["close"],
                                        content: url.value,
                                        width: "800px",
                                        height: "auto",
                                        modal: true,
                                        visible: false,
                                        close: function () { return dialogRoot_1.data("kendoWindow").destroy(); },
                                        refresh: function (e) {
                                            e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                                clickEvent.preventDefault();
                                                e.sender.close();
                                                e.sender.destroy();
                                            });
                                            e.sender.center();
                                        },
                                        open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                switch (_a.label) {
                                                    case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsCreate")];
                                                    case 1:
                                                        _a.sent();
                                                        if (this._movements && this._movements.activeTab) {
                                                            this._movements.activeTab.activate();
                                                        }
                                                        e.sender.close();
                                                        e.sender.destroy();
                                                        return [2 /*return*/];
                                                }
                                            });
                                        }); },
                                    };
                                    var dialog = dialogRoot_1.kendoWindow(dialogOptions).data("kendoWindow");
                                    dialog.center();
                                    dialog.open();
                                }
                            });
                        };
                        return InventoryMovementsIndexPage;
                    }());
                    Index.InventoryMovementsIndexPage = InventoryMovementsIndexPage;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementsIndexPage.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var HandpieceStatusHelper = InventoryMovements.Shared.HandpieceStatusHelper;
                    var InventoryMovementTypeHelper = InventoryMovements.Shared.InventoryMovementTypeHelper;
                    var InventoryMovementStatusHelper = InventoryMovements.Shared.InventoryMovementStatusHelper;
                    var GridInventoryMovementsTabBase = /** @class */ (function (_super) {
                        __extends(GridInventoryMovementsTabBase, _super);
                        function GridInventoryMovementsTabBase(id, root, options) {
                            var _this = _super.call(this, id, root) || this;
                            _this._options = options;
                            return _this;
                        }
                        Object.defineProperty(GridInventoryMovementsTabBase.prototype, "grid", {
                            get: function () {
                                return this._grid;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(GridInventoryMovementsTabBase.prototype, "workshopId", {
                            get: function () {
                                return this._options.workshop ? this._options.workshop.Id : "";
                            },
                            enumerable: false,
                            configurable: true
                        });
                        GridInventoryMovementsTabBase.prototype.initInternal = function () {
                            this._dataSource = this.createDataSource();
                            this._grid = this.createGrid();
                        };
                        GridInventoryMovementsTabBase.prototype.activate = function () {
                            if (this._grid) {
                                this._grid.dataSource.read();
                            }
                        };
                        GridInventoryMovementsTabBase.prototype.resize = function (visible) {
                            if (visible) {
                                this._grid.setOptions({ height: "100px" });
                                this._grid.resize(true);
                                this._grid.setOptions({ height: "100%" });
                                this._grid.resize(true);
                            }
                        };
                        GridInventoryMovementsTabBase.prototype.createGrid = function () {
                            var _this = this;
                            var gridContainerElement = document.createElement("div");
                            gridContainerElement.classList.add("k-grid-commandicons2");
                            gridContainerElement.classList.add("k-grid--dense");
                            this.root.innerHTML = "";
                            this.root.appendChild(gridContainerElement);
                            var gridContainer = $(gridContainerElement);
                            return gridContainer.kendoGrid({
                                dataSource: this._dataSource,
                                columns: this.initializeColumns(),
                                sortable: {
                                    mode: "single",
                                },
                                filterable: {
                                    mode: "row",
                                },
                                dataBound: function (e) {
                                    _this.initializeGrid(e.sender);
                                    e.sender.tbody.find("tr[role=row]").each(function (index, row) {
                                        var dataItem = e.sender.dataItem(row);
                                        _this.initializeRow(row, dataItem);
                                    });
                                }
                            }).data("kendoGrid");
                        };
                        GridInventoryMovementsTabBase.prototype.initializeGrid = function (grid) {
                        };
                        GridInventoryMovementsTabBase.prototype.initializeRow = function (row, dataItem) {
                            var openJobButton = row.querySelector("a.k-grid-CustomOpenJob");
                            if (openJobButton) {
                                var shouldDisable = !dataItem.HandpieceId;
                                if (shouldDisable) {
                                    openJobButton.classList.add("k-state-disabled");
                                }
                                else {
                                    openJobButton.classList.remove("k-state-disabled");
                                }
                            }
                            var tooltips = row.querySelectorAll(".k-grid-tooltip");
                            for (var i = 0; i < tooltips.length; i++) {
                                $(tooltips[i]).kendoTooltip();
                            }
                        };
                        GridInventoryMovementsTabBase.prototype.initializeColumns = function () {
                            var columns = [];
                            var columnsConfig = this.getColumnsConfig();
                            if (columnsConfig.Date && columnsConfig.Date > 0) {
                                columns.push({
                                    title: "Date",
                                    field: "Date",
                                    width: columnsConfig.Date,
                                    filterable: {
                                        cell: {
                                            operator: "eq",
                                            showOperators: false,
                                            template: function (args) {
                                                var datePicker = args.element.kendoDatePicker({
                                                    format: "d",
                                                }).data("kendoDatePicker");
                                                var defaultValueImpl = datePicker["value"];
                                                datePicker["value"] = function (value) {
                                                    if (value === undefined) {
                                                        var current = this["_value"];
                                                        var padDateFragment = function (s, l) {
                                                            while (s.length < l) {
                                                                s = "0" + s;
                                                            }
                                                            return s;
                                                        };
                                                        if (typeof current === "object" && current instanceof Date) {
                                                            return padDateFragment(current.getFullYear().toString(), 4) + "-" + padDateFragment((current.getMonth() + 1).toString(), 2) + "-" + padDateFragment(current.getDate().toString(), 2);
                                                        }
                                                        return;
                                                    }
                                                    return defaultValueImpl.apply(this, [value]);
                                                };
                                            },
                                        }
                                    },
                                    template: function (data) {
                                        if (data.DateTime !== undefined && data.DateTime !== null) {
                                            return kendo.toString(data.DateTime, "d") + " " + kendo.toString(data.DateTime, "HH:mm:ss");
                                        }
                                        return "Warning order";
                                    }
                                });
                            }
                            if (columnsConfig.WorkshopName && columnsConfig.WorkshopName > 0) {
                                columns.push({
                                    title: "Workshop",
                                    field: "WorkshopName",
                                    width: columnsConfig.WorkshopName,
                                    filterable: {
                                        cell: {
                                            operator: "contains",
                                            showOperators: false,
                                        }
                                    }
                                });
                            }
                            if (columnsConfig.SKUName && columnsConfig.SKUName > 0) {
                                columns.push({
                                    title: "SKU",
                                    field: "SKUName",
                                    width: columnsConfig.SKUName,
                                    filterable: {
                                        cell: {
                                            operator: "contains",
                                            showOperators: false,
                                        }
                                    }
                                });
                            }
                            if (columnsConfig.Quantity && columnsConfig.Quantity > 0) {
                                columns.push({
                                    title: "QTY",
                                    field: "Quantity",
                                    width: columnsConfig.Quantity,
                                });
                            }
                            if (columnsConfig.QuantityAbsolute && columnsConfig.QuantityAbsolute > 0) {
                                columns.push({
                                    title: "QTY",
                                    field: "QuantityAbsolute",
                                    width: columnsConfig.QuantityAbsolute,
                                });
                            }
                            if (columnsConfig.ShelfQuantity && columnsConfig.ShelfQuantity > 0) {
                                columns.push({
                                    title: "Shelf",
                                    field: "ShelfQuantity",
                                    width: columnsConfig.ShelfQuantity,
                                });
                            }
                            if (columnsConfig.Type && columnsConfig.Type > 0) {
                                columns.push({
                                    title: "Type",
                                    field: "Type",
                                    width: columnsConfig.Type,
                                    filterable: {
                                        cell: {
                                            operator: "eq",
                                            showOperators: false,
                                            template: function (args) {
                                                args.element.kendoDropDownList({
                                                    dataSource: InventoryMovementTypeHelper.createDataSource(),
                                                    dataValueField: "value",
                                                    dataTextField: "name",
                                                    valuePrimitive: true,
                                                });
                                            },
                                        },
                                    },
                                    template: function (data) { return "" + InventoryMovementTypeHelper.toDisplayString(data.Type); },
                                });
                            }
                            if (columnsConfig.Status && columnsConfig.Status > 0) {
                                columns.push({
                                    title: "Status",
                                    field: "Status",
                                    width: columnsConfig.Status,
                                    filterable: {
                                        cell: {
                                            operator: "eq",
                                            showOperators: false,
                                            template: function (args) {
                                                args.element.kendoDropDownList({
                                                    dataSource: InventoryMovementStatusHelper.createDataSource(),
                                                    dataValueField: "value",
                                                    dataTextField: "name",
                                                    valuePrimitive: true,
                                                });
                                            },
                                        },
                                    },
                                    template: function (data) { return "" + InventoryMovementStatusHelper.toDisplayString(data.Status); },
                                });
                            }
                            if (columnsConfig.HandpiecesNumbers && columnsConfig.HandpiecesNumbers > 0) {
                                columns.push({
                                    title: "Job",
                                    field: "HandpieceNumber",
                                    width: columnsConfig.HandpiecesNumbers,
                                    template: function (data) {
                                        if (!data.HandpieceId) {
                                            return "";
                                        }
                                        return "<a style=\"color: #007bff;\" href=\"/Handpieces/Edit/" + data.HandpieceId + "\">" + data.HandpieceNumber + "</a> ";
                                    },
                                });
                            }
                            if (columnsConfig.HandpiecesStatuses && columnsConfig.HandpiecesStatuses > 0) {
                                columns.push({
                                    title: "Job Status",
                                    field: "HandpieceStatus",
                                    width: columnsConfig.HandpiecesStatuses,
                                    filterable: {
                                        cell: {
                                            operator: "eq",
                                            showOperators: false,
                                            template: function (args) {
                                                args.element.kendoDropDownList({
                                                    dataSource: HandpieceStatusHelper.createDataSource(),
                                                    dataValueField: "value",
                                                    dataTextField: "name",
                                                    valuePrimitive: true,
                                                });
                                            },
                                        },
                                    },
                                    template: function (data) {
                                        if (!data.HandpieceId) {
                                            return "";
                                        }
                                        return HandpieceStatusHelper.toDisplayString(data.HandpieceStatus);
                                    },
                                });
                            }
                            if (columnsConfig.HandpiecesPartsComments && columnsConfig.HandpiecesPartsComments > 0) {
                                columns.push({
                                    title: "Parts Comment",
                                    field: "HandpiecePartsComment",
                                    width: columnsConfig.HandpiecesPartsComments,
                                    filterable: {
                                        cell: {
                                            operator: "contains",
                                            showOperators: false,
                                        }
                                    },
                                    template: function (data) {
                                        if (!data.HandpieceId || !data.HandpiecePartsComment) {
                                            return "";
                                        }
                                        var labelText = data.HandpiecePartsComment;
                                        if (labelText.length > 40) {
                                            labelText = labelText.substr(0, 40) + "...";
                                        }
                                        var span = document.createElement("span");
                                        span.classList.add("k-grid-tooltip");
                                        span.setAttribute("title", data.HandpiecePartsComment);
                                        span.textContent = labelText;
                                        return span.outerHTML;
                                    }
                                });
                            }
                            if (columnsConfig.MovementComment && columnsConfig.MovementComment > 0) {
                                columns.push({
                                    title: "Move Comment",
                                    field: "MovementComment",
                                    width: columnsConfig.MovementComment,
                                    filterable: {
                                        cell: {
                                            operator: "contains",
                                            showOperators: false,
                                        }
                                    },
                                    template: function (data) {
                                        if (data.MovementComment === undefined || data.MovementComment === null) {
                                            return "";
                                        }
                                        var labelText = data.MovementComment;
                                        if (labelText.length > 40) {
                                            labelText = labelText.substr(0, 40) + "...";
                                        }
                                        var span = document.createElement("span");
                                        span.classList.add("k-grid-tooltip");
                                        span.setAttribute("title", data.MovementComment);
                                        span.textContent = labelText;
                                        return span.outerHTML;
                                    }
                                });
                            }
                            if (columnsConfig.FinalPrice && columnsConfig.FinalPrice > 0) {
                                columns.push({
                                    title: "Price",
                                    field: "FinalPrice",
                                    width: columnsConfig.FinalPrice,
                                    template: function (data) {
                                        if (data.FinalPrice === undefined || data.FinalPrice === null) {
                                            return "";
                                        }
                                        if (data.MovementPrice === undefined || data.MovementPrice === null) {
                                            return "<i>$" + kendo.toString(data.FinalPrice, "#,##0.##") + "</i>";
                                        }
                                        return "$" + kendo.toString(data.FinalPrice, "#,##0.##");
                                    }
                                });
                            }
                            if (columnsConfig.TotalPrice && columnsConfig.TotalPrice > 0) {
                                columns.push({
                                    title: "Total",
                                    field: "TotalPrice",
                                    width: columnsConfig.TotalPrice,
                                    template: function (data) {
                                        if (data.TotalPrice === undefined || data.TotalPrice === null) {
                                            return "";
                                        }
                                        if (data.MovementPrice === undefined || data.MovementPrice === null) {
                                            return "<i>$" + kendo.toString(data.TotalPrice, "#,##0.##") + "</i>";
                                        }
                                        return "$" + kendo.toString(data.TotalPrice, "#,##0.##");
                                    }
                                });
                            }
                            if (columnsConfig.TotalPriceAbsolute && columnsConfig.TotalPriceAbsolute > 0) {
                                columns.push({
                                    title: "Total",
                                    field: "TotalPriceAbsolute",
                                    width: columnsConfig.TotalPriceAbsolute,
                                    template: function (data) {
                                        if (data.TotalPriceAbsolute === undefined || data.TotalPriceAbsolute === null) {
                                            return "";
                                        }
                                        if (data.MovementPrice === undefined || data.MovementPrice === null) {
                                            return "<i>$" + kendo.toString(data.TotalPriceAbsolute, "#,##0.##") + "</i>";
                                        }
                                        return "$" + kendo.toString(data.TotalPriceAbsolute, "#,##0.##");
                                    }
                                });
                            }
                            if (columnsConfig.Actions && columnsConfig.Actions > 0) {
                                columns.push({
                                    title: "Actions",
                                    width: columnsConfig.Actions,
                                    command: this.initializeCommands(),
                                });
                            }
                            return columns;
                        };
                        GridInventoryMovementsTabBase.prototype.getColumnsConfig = function () {
                            return {
                                Date: 100,
                                WorkshopName: this.workshopId ? 0 : 100,
                                SKUName: 250,
                                Quantity: 50,
                                QuantityAbsolute: 0,
                                ShelfQuantity: 50,
                                Type: 100,
                                Status: 100,
                                HandpiecesNumbers: 75,
                                HandpiecesStatuses: 100,
                                HandpiecesPartsComments: 100,
                                MovementComment: 100,
                                FinalPrice: 65,
                                TotalPrice: 0,
                                TotalPriceAbsolute: 0,
                                Actions: 200,
                            };
                        };
                        GridInventoryMovementsTabBase.prototype.createDataSource = function () {
                            var _this = this;
                            var dataSource = new kendo.data.DataSource({
                                type: "aspnetmvc-ajax",
                                transport: {
                                    read: {
                                        url: this.getEndpointUrl(),
                                        data: function () {
                                            var dataParams = {};
                                            if (_this._options.workshop) {
                                                dataParams["workshop"] = _this._options.workshop.Id;
                                            }
                                            if (_this._options.sku) {
                                                dataParams["sku"] = _this._options.sku;
                                            }
                                            return dataParams;
                                        },
                                    },
                                },
                                schema: {
                                    data: "Data",
                                    total: "Total",
                                    errors: "Errors",
                                    model: {
                                        id: "Id",
                                        fields: {
                                            "Date": { type: "Date" },
                                            "DateTime": { type: "Date" },
                                            "SKUId": { type: "string" },
                                            "SKUName": { type: "string" },
                                            "Quantity": { type: "number" },
                                            "QuantityAbsolute": { type: "number" },
                                            "Type": { type: "number" },
                                            "Status": { type: "number" },
                                            "HandpieceId": { type: "string" },
                                            "HandpieceNumber": { type: "string" },
                                            "HandpieceStatus": { type: "number" },
                                            "ClientId": { type: "string" },
                                            "ClientFullName": { type: "string" },
                                            "AveragePrice": { type: "number" },
                                            "MovementPrice": { type: "number" },
                                            "FinalPrice": { type: "number" },
                                            "TotalPrice": { type: "number" },
                                            "TotalPriceAbsolute": { type: "number" },
                                        },
                                    },
                                },
                                sort: [
                                    { field: "DateTime", dir: "asc" },
                                    { field: "SKUTypeOrderNo", dir: "asc" },
                                    { field: "SKUOrderNo", dir: "asc" },
                                ],
                                serverAggregates: true,
                                serverFiltering: true,
                                serverGrouping: true,
                                serverPaging: true,
                                serverSorting: true,
                            });
                            return dataSource;
                        };
                        return GridInventoryMovementsTabBase;
                    }(Index.InventoryMovementsTabBase));
                    Index.GridInventoryMovementsTabBase = GridInventoryMovementsTabBase;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryMovementsTabBase.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var GridInventoryMovementsAllTab = /** @class */ (function (_super) {
                        __extends(GridInventoryMovementsAllTab, _super);
                        function GridInventoryMovementsAllTab(id, root, options) {
                            return _super.call(this, id, root, options) || this;
                        }
                        GridInventoryMovementsAllTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadAll";
                        };
                        GridInventoryMovementsAllTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Job",
                                click: function (e) {
                                    e.preventDefault();
                                    var dataItem = _this.grid.dataItem(e.currentTarget.closest("tr"));
                                    if (!dataItem) {
                                        return;
                                    }
                                    if (dataItem.HandpieceId) {
                                        var url = routes.handpieces.edit(dataItem.HandpieceId);
                                        url.open();
                                    }
                                }
                            });
                            commands.push({
                                name: "CustomHistory",
                                iconClass: "fas fa-history",
                                text: "&nbsp;",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/History/" + item.Id); }, function (item) { return ({
                                    title: "Move history",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                }); }),
                            });
                            return commands;
                        };
                        return GridInventoryMovementsAllTab;
                    }(Index.GridInventoryMovementsTabBase));
                    Index.GridInventoryMovementsAllTab = GridInventoryMovementsAllTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryMovementsAllTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridInventoryMovementsTrayTab = /** @class */ (function (_super) {
                        __extends(GridInventoryMovementsTrayTab, _super);
                        function GridInventoryMovementsTrayTab(id, root, options) {
                            return _super.call(this, id, root, options) || this;
                        }
                        GridInventoryMovementsTrayTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadTray";
                        };
                        GridInventoryMovementsTrayTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Job",
                                click: function (e) {
                                    e.preventDefault();
                                    var dataItem = _this.grid.dataItem(e.currentTarget.closest("tr"));
                                    if (!dataItem) {
                                        return;
                                    }
                                    if (dataItem.HandpieceId) {
                                        var url = routes.handpieces.edit(dataItem.HandpieceId);
                                        url.open();
                                    }
                                }
                            });
                            return commands;
                        };
                        return GridInventoryMovementsTrayTab;
                    }(Index.GridInventoryMovementsTabBase));
                    Index.GridInventoryMovementsTrayTab = GridInventoryMovementsTrayTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryMovementsTrayTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var AjaxFormsManager = DevGuild.AspNet.Forms.AjaxForms.AjaxFormsManager;
                    var InventoryMovementType = InventoryMovements.Shared.InventoryMovementType;
                    var GridInventoryMovementsApprovedTab = /** @class */ (function (_super) {
                        __extends(GridInventoryMovementsApprovedTab, _super);
                        function GridInventoryMovementsApprovedTab(id, root, options, api) {
                            var _this = _super.call(this, id, root, options) || this;
                            _this._showWarnings = false;
                            _this._api = api;
                            return _this;
                        }
                        GridInventoryMovementsApprovedTab.prototype.getEndpointUrl = function () {
                            return this._showWarnings
                                ? "/InventoryMovements/ReadApprovedAndMissing"
                                : "/InventoryMovements/ReadApproved";
                        };
                        GridInventoryMovementsApprovedTab.prototype.getColumnsConfig = function () {
                            var config = _super.prototype.getColumnsConfig.call(this);
                            config.QuantityAbsolute = config.Quantity;
                            config.Quantity = 0;
                            config.TotalPriceAbsolute = config.TotalPrice;
                            config.TotalPrice = 0;
                            config.Actions += config.Type;
                            config.Actions += config.Status;
                            config.Type = 0;
                            config.Status = 0;
                            return config;
                        };
                        GridInventoryMovementsApprovedTab.prototype.initializeGrid = function (grid) {
                            var _this = this;
                            _super.prototype.initializeGrid.call(this, grid);
                            var nameHeader = grid.wrapper.find("th[data-field=SKUName]")[0];
                            var checkboxWrapper = nameHeader.querySelector(".inventory-movements-show-warnings");
                            if (!checkboxWrapper) {
                                checkboxWrapper = nameHeader.appendChild(document.createElement("div"));
                                checkboxWrapper.classList.add("inventory-movements-show-warnings");
                                var label = checkboxWrapper.appendChild(document.createElement("label"));
                                label.classList.add("inventory-movements-show-warnings__label");
                                label.addEventListener("click", function (e) { return e.stopPropagation(); });
                                var checkbox = label.appendChild(document.createElement("input"));
                                checkbox.type = "checkbox";
                                checkbox.classList.add("inventory-movements-show-warnings__checkbox", "k-checkbox");
                                ;
                                checkbox.addEventListener("click", function (e) { return e.stopPropagation(); });
                                checkbox.addEventListener("change", function (e) {
                                    e.stopPropagation();
                                    _this._showWarnings = !_this._showWarnings;
                                    _this.grid.dataSource["transport"].options.read.url = _this.getEndpointUrl();
                                    _this.grid.dataSource.read();
                                });
                                label.appendChild(document.createTextNode("Show Warnings"));
                            }
                        };
                        GridInventoryMovementsApprovedTab.prototype.initializeRow = function (row, dataItem) {
                            _super.prototype.initializeRow.call(this, row, dataItem);
                            var cancelButton = row.querySelector("a.k-grid-CustomCancel");
                            if (dataItem.Type === InventoryMovementType.EphemeralMissingRequiredQuantity) {
                                cancelButton.classList.add("k-state-disabled");
                            }
                            else {
                                cancelButton.classList.remove("k-state-disabled");
                            }
                        };
                        GridInventoryMovementsApprovedTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Job",
                                click: function (e) {
                                    e.preventDefault();
                                    var dataItem = _this.grid.dataItem(e.currentTarget.closest("tr"));
                                    if (!dataItem) {
                                        return;
                                    }
                                    if (dataItem.HandpieceId) {
                                        var url = routes.handpieces.edit(dataItem.HandpieceId);
                                        url.open();
                                    }
                                }
                            });
                            commands.push({
                                name: "CustomOrder",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "far fa-check-circle",
                                text: "&nbsp; Order",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) {
                                    if (item.Type === InventoryMovementType.EphemeralMissingRequiredQuantity) {
                                        return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/OrderMissing?workshop=" + _this.workshopId + "&sku=" + item.Id);
                                    }
                                    else {
                                        return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/Order/" + item.Id);
                                    }
                                }, function (item) { return ({
                                    title: "Order Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0:
                                                    if (!(item.Type === InventoryMovementType.EphemeralMissingRequiredQuantity)) return [3 /*break*/, 2];
                                                    return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsOrderMissing")];
                                                case 1:
                                                    _a.sent();
                                                    return [3 /*break*/, 4];
                                                case 2: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsOrder")];
                                                case 3:
                                                    _a.sent();
                                                    _a.label = 4;
                                                case 4: return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 5:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomOrderWithEdit",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-check-circle",
                                text: "&nbsp; Order with Edit",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) {
                                    if (item.Type === InventoryMovementType.EphemeralMissingRequiredQuantity) {
                                        return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/OrderMissingWithEdit?workshop=" + _this.workshopId + "&sku=" + item.Id);
                                    }
                                    else {
                                        return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/OrderWithEdit/" + item.Id);
                                    }
                                }, function (item) { return ({
                                    title: "Order Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0:
                                                    if (!(item.Type === InventoryMovementType.EphemeralMissingRequiredQuantity)) return [3 /*break*/, 2];
                                                    return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsOrderMissingWithEdit")];
                                                case 1:
                                                    _a.sent();
                                                    return [3 /*break*/, 4];
                                                case 2: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsOrderWithEdit")];
                                                case 3:
                                                    _a.sent();
                                                    _a.label = 4;
                                                case 4: return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 5:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomCancel",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-ban",
                                text: "&nbsp; Cancel",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/Cancel/" + item.Id); }, function (item) { return ({
                                    title: "Cancel Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsCancel")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomHistory",
                                iconClass: "fas fa-history",
                                text: "&nbsp;",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/History/" + item.Id); }, function (item) { return ({
                                    title: "Move history",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                }); }),
                            });
                            return commands;
                        };
                        return GridInventoryMovementsApprovedTab;
                    }(Index.GridInventoryMovementsTabBase));
                    Index.GridInventoryMovementsApprovedTab = GridInventoryMovementsApprovedTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryMovementsApprovedTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var GridInventoryMovementsCompleteTab = /** @class */ (function (_super) {
                        __extends(GridInventoryMovementsCompleteTab, _super);
                        function GridInventoryMovementsCompleteTab(id, root, options) {
                            return _super.call(this, id, root, options) || this;
                        }
                        GridInventoryMovementsCompleteTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadComplete";
                        };
                        GridInventoryMovementsCompleteTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Job",
                                click: function (e) {
                                    e.preventDefault();
                                    var dataItem = _this.grid.dataItem(e.currentTarget.closest("tr"));
                                    if (!dataItem) {
                                        return;
                                    }
                                    if (dataItem.HandpieceId) {
                                        var url = routes.handpieces.edit(dataItem.HandpieceId);
                                        url.open();
                                    }
                                }
                            });
                            commands.push({
                                name: "CustomHistory",
                                iconClass: "fas fa-history",
                                text: "&nbsp;",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/History/" + item.Id); }, function (item) { return ({
                                    title: "Move history",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                }); }),
                            });
                            return commands;
                        };
                        return GridInventoryMovementsCompleteTab;
                    }(Index.GridInventoryMovementsTabBase));
                    Index.GridInventoryMovementsCompleteTab = GridInventoryMovementsCompleteTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryMovementsCompleteTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var AjaxFormsManager = DevGuild.AspNet.Forms.AjaxForms.AjaxFormsManager;
                    var GridInventoryMovementsOrderedTab = /** @class */ (function (_super) {
                        __extends(GridInventoryMovementsOrderedTab, _super);
                        function GridInventoryMovementsOrderedTab(id, root, options, api) {
                            var _this = _super.call(this, id, root, options) || this;
                            _this._api = api;
                            return _this;
                        }
                        GridInventoryMovementsOrderedTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadOrdered";
                        };
                        GridInventoryMovementsOrderedTab.prototype.getColumnsConfig = function () {
                            var config = _super.prototype.getColumnsConfig.call(this);
                            config.QuantityAbsolute = config.Quantity;
                            config.Quantity = 0;
                            config.TotalPriceAbsolute = config.TotalPrice;
                            config.TotalPrice = 0;
                            config.Actions += config.Type;
                            config.Actions += config.Status;
                            config.Type = 0;
                            config.Status = 0;
                            return config;
                        };
                        GridInventoryMovementsOrderedTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Job",
                                click: function (e) {
                                    e.preventDefault();
                                    var dataItem = _this.grid.dataItem(e.currentTarget.closest("tr"));
                                    if (!dataItem) {
                                        return;
                                    }
                                    if (dataItem.HandpieceId) {
                                        var url = routes.handpieces.edit(dataItem.HandpieceId);
                                        url.open();
                                    }
                                }
                            });
                            commands.push({
                                name: "CustomVerify",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "far fa-check-circle",
                                text: "&nbsp; Verify",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/Verify/" + item.Id); }, function (item) { return ({
                                    title: "Verify Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsVerify")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomVerifyWithEdit",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-check-circle",
                                text: "&nbsp; Verify with Edit",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/VerifyWithEdit/" + item.Id); }, function (item) { return ({
                                    title: "Verify Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsVerifyWithEdit")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomCancel",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-ban",
                                text: "&nbsp; Cancel",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/Cancel/" + item.Id); }, function (item) { return ({
                                    title: "Cancel Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsCancel")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomHistory",
                                iconClass: "fas fa-history",
                                text: "&nbsp;",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/History/" + item.Id); }, function (item) { return ({
                                    title: "Move history",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                }); }),
                            });
                            return commands;
                        };
                        return GridInventoryMovementsOrderedTab;
                    }(Index.GridInventoryMovementsTabBase));
                    Index.GridInventoryMovementsOrderedTab = GridInventoryMovementsOrderedTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryMovementsOrderedTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var AjaxFormsManager = DevGuild.AspNet.Forms.AjaxForms.AjaxFormsManager;
                    var GridInventoryMovementsRequestedTab = /** @class */ (function (_super) {
                        __extends(GridInventoryMovementsRequestedTab, _super);
                        function GridInventoryMovementsRequestedTab(id, root, options, api) {
                            var _this = _super.call(this, id, root, options) || this;
                            _this._api = api;
                            return _this;
                        }
                        GridInventoryMovementsRequestedTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadRequested";
                        };
                        GridInventoryMovementsRequestedTab.prototype.getColumnsConfig = function () {
                            var config = _super.prototype.getColumnsConfig.call(this);
                            config.QuantityAbsolute = config.Quantity;
                            config.Quantity = 0;
                            config.TotalPriceAbsolute = config.TotalPrice;
                            config.TotalPrice = 0;
                            config.Actions += config.Type;
                            config.Actions += config.Status;
                            config.Type = 0;
                            config.Status = 0;
                            return config;
                        };
                        GridInventoryMovementsRequestedTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Job",
                                click: function (e) {
                                    e.preventDefault();
                                    var dataItem = _this.grid.dataItem(e.currentTarget.closest("tr"));
                                    if (!dataItem) {
                                        return;
                                    }
                                    if (dataItem.HandpieceId) {
                                        var url = routes.handpieces.edit(dataItem.HandpieceId);
                                        url.open();
                                    }
                                }
                            });
                            commands.push({
                                name: "CustomApprove",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "far fa-check-circle",
                                text: "&nbsp; Approve",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/Approve/" + item.Id); }, function (item) { return ({
                                    title: "Approve Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsApprove")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomApproveWithEdit",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-check-circle",
                                text: "&nbsp; Approve with Edit",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/ApproveWithEdit/" + item.Id); }, function (item) { return ({
                                    title: "Approve Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsApproveWithEdit")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomCancel",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-ban",
                                text: "&nbsp; Cancel",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/Cancel/" + item.Id); }, function (item) { return ({
                                    title: "Cancel Movement",
                                    width: "800px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsCancel")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomHistory",
                                iconClass: "fas fa-history",
                                text: "&nbsp;",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/History/" + item.Id); }, function (item) { return ({
                                    title: "Move history",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                }); }),
                            });
                            return commands;
                        };
                        return GridInventoryMovementsRequestedTab;
                    }(Index.GridInventoryMovementsTabBase));
                    Index.GridInventoryMovementsRequestedTab = GridInventoryMovementsRequestedTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryMovementsRequestedTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var InventoryMovementTypeHelper = InventoryMovements.Shared.InventoryMovementTypeHelper;
                    var InventoryMovementStatusHelper = InventoryMovements.Shared.InventoryMovementStatusHelper;
                    var GridInventoryGroupMovementsTabBase = /** @class */ (function (_super) {
                        __extends(GridInventoryGroupMovementsTabBase, _super);
                        function GridInventoryGroupMovementsTabBase(id, root, options) {
                            var _this = _super.call(this, id, root) || this;
                            _this._options = options;
                            return _this;
                        }
                        Object.defineProperty(GridInventoryGroupMovementsTabBase.prototype, "grid", {
                            get: function () {
                                return this._grid;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(GridInventoryGroupMovementsTabBase.prototype, "workshopId", {
                            get: function () {
                                return this._options.workshop ? this._options.workshop.Id : "";
                            },
                            enumerable: false,
                            configurable: true
                        });
                        GridInventoryGroupMovementsTabBase.prototype.initInternal = function () {
                            this._dataSource = this.createDataSource();
                            this._grid = this.createGrid();
                        };
                        GridInventoryGroupMovementsTabBase.prototype.activate = function () {
                            if (this._grid) {
                                this._grid.dataSource.read();
                            }
                        };
                        GridInventoryGroupMovementsTabBase.prototype.resize = function (visible) {
                            if (visible) {
                                this._grid.setOptions({ height: "100px" });
                                this._grid.resize(true);
                                this._grid.setOptions({ height: "100%" });
                                this._grid.resize(true);
                            }
                        };
                        GridInventoryGroupMovementsTabBase.prototype.createGrid = function () {
                            var _this = this;
                            var gridContainerElement = document.createElement("div");
                            gridContainerElement.classList.add("k-grid-commandicons2");
                            gridContainerElement.classList.add("k-grid--dense");
                            this.root.innerHTML = "";
                            this.root.appendChild(gridContainerElement);
                            var gridContainer = $(gridContainerElement);
                            return gridContainer.kendoGrid({
                                dataSource: this._dataSource,
                                columns: this.initializeColumns(),
                                sortable: {
                                    mode: "single",
                                },
                                filterable: {
                                    mode: "row",
                                },
                                dataBound: function (e) {
                                    _this.initializeGrid(e.sender);
                                    e.sender.tbody.find(".inventory-movements-link").each(function (index, element) {
                                        var existing = $(element).data("kendoTooltip");
                                        if (existing) {
                                            existing.destroy();
                                        }
                                        var sku = element.getAttribute("data-sku");
                                        var workshop = element.getAttribute("data-workshop");
                                        var tab = element.getAttribute("data-tab");
                                        $(element).kendoTooltip({
                                            position: "top",
                                            content: {
                                                url: "/InventoryMovements/Preview?sku=" + sku + "&workshop=" + workshop + "&tab=" + tab,
                                            },
                                            width: 950,
                                            height: 300,
                                        });
                                    });
                                }
                            }).data("kendoGrid");
                        };
                        GridInventoryGroupMovementsTabBase.prototype.initializeGrid = function (grid) {
                        };
                        GridInventoryGroupMovementsTabBase.prototype.initializeColumns = function () {
                            var _this = this;
                            var columns = [];
                            var columnsConfig = this.getColumnsConfig();
                            if (columnsConfig.Date && columnsConfig.Date > 0) {
                                columns.push({
                                    title: this.getColumnName("MinDate", "Date"),
                                    field: "MinDate",
                                    width: columnsConfig.Date,
                                    filterable: {
                                        cell: {
                                            operator: "eq",
                                            showOperators: false,
                                            template: function (args) {
                                                var datePicker = args.element.kendoDatePicker({
                                                    format: "d",
                                                }).data("kendoDatePicker");
                                                var defaultValueImpl = datePicker["value"];
                                                datePicker["value"] = function (value) {
                                                    if (value === undefined) {
                                                        var current = this["_value"];
                                                        var padDateFragment = function (s, l) {
                                                            while (s.length < l) {
                                                                s = "0" + s;
                                                            }
                                                            return s;
                                                        };
                                                        if (typeof current === "object" && current instanceof Date) {
                                                            return padDateFragment(current.getFullYear().toString(), 4) + "-" + padDateFragment((current.getMonth() + 1).toString(), 2) + "-" + padDateFragment(current.getDate().toString(), 2);
                                                        }
                                                        return;
                                                    }
                                                    return defaultValueImpl.apply(this, [value]);
                                                };
                                            },
                                        }
                                    },
                                    template: function (data) {
                                        if (data.MinDateTime !== undefined && data.MinDateTime !== null) {
                                            return kendo.toString(data.MinDateTime, "d") + " " + kendo.toString(data.MinDateTime, "HH:mm:ss");
                                        }
                                        return "Warning order";
                                    }
                                });
                            }
                            if (columnsConfig.WorkshopName && columnsConfig.WorkshopName > 0) {
                                columns.push({
                                    title: this.getColumnName("WorkshopName", "Workshop"),
                                    field: "WorkshopName",
                                    width: columnsConfig.WorkshopName,
                                    filterable: {
                                        cell: {
                                            operator: "contains",
                                            showOperators: false,
                                        }
                                    },
                                });
                            }
                            if (columnsConfig.SKUName && columnsConfig.SKUName > 0) {
                                columns.push({
                                    title: this.getColumnName("SKUName", "SKU"),
                                    field: "SKUName",
                                    width: columnsConfig.SKUName,
                                    filterable: {
                                        cell: {
                                            operator: "contains",
                                            showOperators: false,
                                        }
                                    },
                                });
                            }
                            if (columnsConfig.ShelfQuantity && columnsConfig.ShelfQuantity > 0) {
                                columns.push({
                                    title: this.getColumnName("ShelfQuantity", "Shelf"),
                                    field: "ShelfQuantity",
                                    width: columnsConfig.ShelfQuantity,
                                });
                            }
                            if (columnsConfig.Quantity && columnsConfig.Quantity > 0) {
                                columns.push({
                                    title: this.getColumnName("Quantity", "Quantity"),
                                    field: "Quantity",
                                    width: columnsConfig.Quantity,
                                });
                            }
                            if (columnsConfig.QuantityAbsolute && columnsConfig.QuantityAbsolute > 0) {
                                columns.push({
                                    title: this.getColumnName("QuantityAbsolute", "Quantity"),
                                    field: "QuantityAbsolute",
                                    width: columnsConfig.QuantityAbsolute,
                                });
                            }
                            if (columnsConfig.HandpiecesCount && columnsConfig.HandpiecesCount > 0) {
                                columns.push({
                                    title: this.getColumnName("HandpiecesCount", "Jobs"),
                                    field: "HandpiecesCount",
                                    width: columnsConfig.HandpiecesCount,
                                    template: function (data) {
                                        var link = document.createElement("a");
                                        link.classList.add("inventory-movements-link");
                                        link.setAttribute("data-sku", data.SKUId);
                                        link.setAttribute("data-workshop", data.WorkshopId);
                                        link.setAttribute("data-tab", _this.getTabName());
                                        link.style.color = "#007bff";
                                        link.href = "/InventoryMovements?sku=" + data.SKUId + "&tab=" + _this.getTabName() + "&group=false";
                                        link.appendChild(document.createTextNode(kendo.toString(data.HandpiecesCount, "0")));
                                        return link.outerHTML;
                                    },
                                });
                            }
                            if (columnsConfig.OrderedQuantity && columnsConfig.OrderedQuantity > 0) {
                                columns.push({
                                    title: this.getColumnName("OrderedQuantity", "Coming"),
                                    field: "OrderedQuantity",
                                    width: columnsConfig.OrderedQuantity,
                                });
                            }
                            if (columnsConfig.MissingQuantity && columnsConfig.MissingQuantity > 0) {
                                columns.push({
                                    title: this.getColumnName("MissingQuantity", "Workshop"),
                                    field: "MissingQuantity",
                                    width: columnsConfig.MissingQuantity,
                                });
                            }
                            if (columnsConfig.Type && columnsConfig.Type > 0) {
                                columns.push({
                                    title: this.getColumnName("Type", "Type"),
                                    field: "Type",
                                    width: columnsConfig.Type,
                                    filterable: {
                                        cell: {
                                            operator: "eq",
                                            showOperators: false,
                                            template: function (args) {
                                                args.element.kendoDropDownList({
                                                    dataSource: InventoryMovementTypeHelper.createDataSource(),
                                                    dataValueField: "value",
                                                    dataTextField: "name",
                                                    valuePrimitive: true,
                                                });
                                            },
                                        },
                                    },
                                    template: function (data) { return "" + InventoryMovementTypeHelper.toDisplayString(data.Type); },
                                });
                            }
                            if (columnsConfig.Status && columnsConfig.Status > 0) {
                                columns.push({
                                    title: this.getColumnName("Status", "Status"),
                                    field: "Status",
                                    width: columnsConfig.Status,
                                    filterable: {
                                        cell: {
                                            operator: "eq",
                                            showOperators: false,
                                            template: function (args) {
                                                args.element.kendoDropDownList({
                                                    dataSource: InventoryMovementStatusHelper.createDataSource(),
                                                    dataValueField: "value",
                                                    dataTextField: "name",
                                                    valuePrimitive: true,
                                                });
                                            },
                                        },
                                    },
                                    template: function (data) { return "" + InventoryMovementStatusHelper.toDisplayString(data.Status); },
                                });
                            }
                            if (columnsConfig.AveragePrice && columnsConfig.AveragePrice > 0) {
                                columns.push({
                                    title: this.getColumnName("AveragePrice", "Price"),
                                    field: "AveragePrice",
                                    width: columnsConfig.AveragePrice,
                                    sortable: false,
                                    filterable: false,
                                    template: function (data) {
                                        if (data.AverageFinalPrice === undefined || data.AverageFinalPrice === null) {
                                            return "";
                                        }
                                        if (data.QuantityAbsolute !== data.QuantityAbsoluteWithPrice) {
                                            return "<i>$" + kendo.toString(data.AverageFinalPrice, "#,##0.##") + "</i>";
                                        }
                                        return "$" + kendo.toString(data.AverageFinalPrice, "#,##0.##");
                                    }
                                });
                            }
                            if (columnsConfig.TotalPrice && columnsConfig.TotalPrice > 0) {
                                columns.push({
                                    title: this.getColumnName("TotalPrice", "Total"),
                                    field: "TotalPrice",
                                    width: columnsConfig.TotalPrice,
                                    template: function (data) {
                                        if (data.TotalPrice === undefined || data.TotalPrice === null) {
                                            return "";
                                        }
                                        if (data.QuantityAbsolute !== data.QuantityAbsoluteWithPrice) {
                                            return "<i>$" + kendo.toString(data.TotalPrice, "#,##0.##") + "</i>";
                                        }
                                        return "$" + kendo.toString(data.TotalPrice, "#,##0.##");
                                    }
                                });
                            }
                            if (columnsConfig.TotalPriceAbsolute && columnsConfig.TotalPriceAbsolute > 0) {
                                columns.push({
                                    title: this.getColumnName("TotalPriceAbsolute", "Total"),
                                    field: "TotalPriceAbsolute",
                                    width: columnsConfig.TotalPriceAbsolute,
                                    template: function (data) {
                                        if (data.TotalPriceAbsolute === undefined || data.TotalPriceAbsolute === null) {
                                            return "";
                                        }
                                        if (data.QuantityAbsolute !== data.QuantityAbsoluteWithPrice) {
                                            return "<i>$" + kendo.toString(data.TotalPriceAbsolute, "#,##0.##") + "</i>";
                                        }
                                        return "$" + kendo.toString(data.TotalPriceAbsolute, "#,##0.##");
                                    }
                                });
                            }
                            if (columnsConfig.Actions && columnsConfig.Actions > 0) {
                                columns.push({
                                    title: "Actions",
                                    width: columnsConfig.Actions,
                                    command: this.initializeCommands(),
                                });
                            }
                            return columns;
                        };
                        GridInventoryGroupMovementsTabBase.prototype.getColumnsConfig = function () {
                            return {
                                Date: 100,
                                WorkshopName: this.workshopId ? 0 : 100,
                                SKUName: 250,
                                Quantity: 50,
                                QuantityAbsolute: 0,
                                ShelfQuantity: 50,
                                OrderedQuantity: 50,
                                MissingQuantity: 50,
                                Type: 100,
                                Status: 100,
                                HandpiecesCount: 75,
                                AveragePrice: 65,
                                TotalPrice: 0,
                                TotalPriceAbsolute: 0,
                                Actions: 300,
                            };
                        };
                        GridInventoryGroupMovementsTabBase.prototype.getColumnName = function (field, defaultName) {
                            return defaultName;
                        };
                        GridInventoryGroupMovementsTabBase.prototype.createDataSource = function () {
                            var _this = this;
                            var dataSource = new kendo.data.DataSource({
                                type: "aspnetmvc-ajax",
                                transport: {
                                    read: {
                                        url: this.getEndpointUrl(),
                                        data: function () {
                                            var dataParams = {};
                                            if (_this._options.workshop) {
                                                dataParams["workshop"] = _this._options.workshop.Id;
                                            }
                                            if (_this._options.sku) {
                                                dataParams["sku"] = _this._options.sku;
                                            }
                                            return dataParams;
                                        },
                                    },
                                },
                                schema: {
                                    data: "Data",
                                    total: "Total",
                                    errors: "Errors",
                                    model: {
                                        id: "Id",
                                        fields: {
                                            "SKUId": { type: "string" },
                                            "SKUName": { type: "string" },
                                            "Type": { type: "number" },
                                            "Status": { type: "number" },
                                            "MinDate": { type: "Date" },
                                            "MinDateTime": { type: "Date" },
                                            "MaxDate": { type: "Date" },
                                            "MaxDateTime": { type: "Date" },
                                            "Quantity": { type: "number" },
                                            "QuantityAbsolute": { type: "number" },
                                            "QuantityAbsoluteWithPrice": { type: "number" },
                                            "ShelfQuantity": { type: "number" },
                                            "OrderedQuantity": { type: "number" },
                                            "MissingQuantity": { type: "number" },
                                            "HandpiecesCount": { type: "number" },
                                            "AverageFinalPrice": { type: "number" },
                                            "TotalPrice": { type: "number" },
                                            "TotalPriceAbsolute": { type: "number" },
                                        },
                                    },
                                },
                                sort: [
                                    { field: "MinDateTime", dir: "asc" },
                                    { field: "SKUTypeOrderNo", dir: "asc" },
                                    { field: "SKUOrderNo", dir: "asc" },
                                ],
                                serverAggregates: true,
                                serverFiltering: true,
                                serverGrouping: true,
                                serverPaging: true,
                                serverSorting: true,
                            });
                            return dataSource;
                        };
                        return GridInventoryGroupMovementsTabBase;
                    }(Index.InventoryMovementsTabBase));
                    Index.GridInventoryGroupMovementsTabBase = GridInventoryGroupMovementsTabBase;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryGroupMovementsTabBase.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridInventoryGroupMovementsAllTab = /** @class */ (function (_super) {
                        __extends(GridInventoryGroupMovementsAllTab, _super);
                        function GridInventoryGroupMovementsAllTab(id, root, options) {
                            return _super.call(this, id, root, options) || this;
                        }
                        GridInventoryGroupMovementsAllTab.prototype.getTabName = function () {
                            return "All";
                        };
                        GridInventoryGroupMovementsAllTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadGroupAll";
                        };
                        GridInventoryGroupMovementsAllTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Jobs",
                                click: function (e) {
                                    e.preventDefault();
                                    var data = _this.grid.dataItem(e.target.closest("tr"));
                                    var url = new DevGuild.AspNet.Routing.Uri("/InventoryMovements?workshop=" + _this.workshopId + "&sku=" + data.SKUId + "&tab=" + _this.getTabName() + "&group=false");
                                    url.navigate();
                                }
                            });
                            return commands;
                        };
                        return GridInventoryGroupMovementsAllTab;
                    }(Index.GridInventoryGroupMovementsTabBase));
                    Index.GridInventoryGroupMovementsAllTab = GridInventoryGroupMovementsAllTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryGroupMovementsAllTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var AjaxFormsManager = DevGuild.AspNet.Forms.AjaxForms.AjaxFormsManager;
                    var GenericFlagControl = DentalDrill.CRM.Controls.GenericFlag.GenericFlagControl;
                    var GridInventoryGroupMovementsApprovedTab = /** @class */ (function (_super) {
                        __extends(GridInventoryGroupMovementsApprovedTab, _super);
                        function GridInventoryGroupMovementsApprovedTab(id, root, options, api) {
                            var _this = _super.call(this, id, root, options) || this;
                            _this._showWarnings = false;
                            _this._api = api;
                            return _this;
                        }
                        GridInventoryGroupMovementsApprovedTab.prototype.getTabName = function () {
                            return "Approved";
                        };
                        GridInventoryGroupMovementsApprovedTab.prototype.getEndpointUrl = function () {
                            return this._showWarnings
                                ? "/InventoryMovements/ReadGroupApprovedAndMissing"
                                : "/InventoryMovements/ReadGroupApproved";
                        };
                        GridInventoryGroupMovementsApprovedTab.prototype.getColumnsConfig = function () {
                            var config = _super.prototype.getColumnsConfig.call(this);
                            config.QuantityAbsolute = config.Quantity;
                            config.Quantity = 0;
                            config.TotalPriceAbsolute = config.TotalPrice;
                            config.TotalPrice = 0;
                            config.Actions += config.Type;
                            config.Actions += config.Status;
                            config.Type = 0;
                            config.Status = 0;
                            return config;
                        };
                        GridInventoryGroupMovementsApprovedTab.prototype.getColumnName = function (field, defaultName) {
                            switch (field) {
                                case "Quantity":
                                    return "Requested";
                                case "QuantityAbsolute":
                                    return "Requested";
                                default:
                                    return defaultName;
                            }
                        };
                        GridInventoryGroupMovementsApprovedTab.prototype.initializeColumns = function () {
                            var columns = _super.prototype.initializeColumns.call(this);
                            var selectedColumn = {
                                title: "Selected",
                                width: "25px",
                                template: function (data) {
                                    var outerSpan = document.createElement("div");
                                    outerSpan.classList.add("generic-flag-container");
                                    outerSpan.classList.add("text-center");
                                    outerSpan.setAttribute("data-flag", "/Inventory/" + data.SKUId + "/Movements/SelectedForOrder/Grouped");
                                    return outerSpan.outerHTML;
                                },
                            };
                            columns.splice(1, 0, selectedColumn);
                            return columns;
                        };
                        GridInventoryGroupMovementsApprovedTab.prototype.initializeGrid = function (grid) {
                            var _this = this;
                            _super.prototype.initializeGrid.call(this, grid);
                            var nameHeader = grid.wrapper.find("th[data-field=SKUName]")[0];
                            var checkboxWrapper = nameHeader.querySelector(".inventory-movements-show-warnings");
                            if (!checkboxWrapper) {
                                checkboxWrapper = nameHeader.appendChild(document.createElement("div"));
                                checkboxWrapper.classList.add("inventory-movements-show-warnings");
                                var label = checkboxWrapper.appendChild(document.createElement("label"));
                                label.classList.add("inventory-movements-show-warnings__label");
                                label.addEventListener("click", function (e) { return e.stopPropagation(); });
                                var checkbox = label.appendChild(document.createElement("input"));
                                checkbox.type = "checkbox";
                                checkbox.classList.add("inventory-movements-show-warnings__checkbox", "k-checkbox");
                                ;
                                checkbox.addEventListener("click", function (e) { return e.stopPropagation(); });
                                checkbox.addEventListener("change", function (e) {
                                    e.stopPropagation();
                                    _this._showWarnings = !_this._showWarnings;
                                    _this.grid.dataSource["transport"].options.read.url = _this.getEndpointUrl();
                                    _this.grid.dataSource.read();
                                });
                                label.appendChild(document.createTextNode("Show Warnings"));
                            }
                            var genericFlags = grid.wrapper.find(".generic-flag-container");
                            var containers = [];
                            for (var i = 0; i < genericFlags.length; i++) {
                                containers.push(genericFlags[i]);
                            }
                            GenericFlagControl.initContainers(containers);
                        };
                        GridInventoryGroupMovementsApprovedTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Jobs",
                                click: function (e) {
                                    e.preventDefault();
                                    var data = _this.grid.dataItem(e.target.closest("tr"));
                                    var url = new DevGuild.AspNet.Routing.Uri("/InventoryMovements?workshop=" + _this.workshopId + "&sku=" + data.SKUId + "&tab=" + _this.getTabName() + "&group=false");
                                    url.navigate();
                                }
                            });
                            commands.push({
                                name: "CustomOrder",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "far fa-check-circle",
                                text: "&nbsp; Order",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupOrder?workshop=" + _this.workshopId + "&sku=" + item.SKUId); }, function (item) { return ({
                                    title: "Order movements",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupOrder")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomOrderWithEdit",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-check-circle",
                                text: "&nbsp; Order with Edit",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupOrderWithEdit?workshop=" + _this.workshopId + "&sku=" + item.SKUId); }, function (item) { return ({
                                    title: "Order movements with edit",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupOrderWithEdit")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomCancel",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-ban",
                                text: "&nbsp; Cancel",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupCancel?workshop=" + _this.workshopId + "&sku=" + item.SKUId + "&status=Approved"); }, function (item) { return ({
                                    title: "Cancel movements",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupCancel")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            return commands;
                        };
                        return GridInventoryGroupMovementsApprovedTab;
                    }(Index.GridInventoryGroupMovementsTabBase));
                    Index.GridInventoryGroupMovementsApprovedTab = GridInventoryGroupMovementsApprovedTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryGroupMovementsApprovedTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridInventoryGroupMovementsCompleteTab = /** @class */ (function (_super) {
                        __extends(GridInventoryGroupMovementsCompleteTab, _super);
                        function GridInventoryGroupMovementsCompleteTab(id, root, options) {
                            return _super.call(this, id, root, options) || this;
                        }
                        GridInventoryGroupMovementsCompleteTab.prototype.getTabName = function () {
                            return "Complete";
                        };
                        GridInventoryGroupMovementsCompleteTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadGroupComplete";
                        };
                        GridInventoryGroupMovementsCompleteTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Jobs",
                                click: function (e) {
                                    e.preventDefault();
                                    var data = _this.grid.dataItem(e.target.closest("tr"));
                                    var url = new DevGuild.AspNet.Routing.Uri("/InventoryMovements?workshop=" + _this.workshopId + "&sku=" + data.SKUId + "&tab=" + _this.getTabName() + "&group=false");
                                    url.navigate();
                                }
                            });
                            return commands;
                        };
                        return GridInventoryGroupMovementsCompleteTab;
                    }(Index.GridInventoryGroupMovementsTabBase));
                    Index.GridInventoryGroupMovementsCompleteTab = GridInventoryGroupMovementsCompleteTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryGroupMovementsCompleteTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var AjaxFormsManager = DevGuild.AspNet.Forms.AjaxForms.AjaxFormsManager;
                    var GridInventoryGroupMovementsOrderedTab = /** @class */ (function (_super) {
                        __extends(GridInventoryGroupMovementsOrderedTab, _super);
                        function GridInventoryGroupMovementsOrderedTab(id, root, options, api) {
                            var _this = _super.call(this, id, root, options) || this;
                            _this._api = api;
                            return _this;
                        }
                        GridInventoryGroupMovementsOrderedTab.prototype.getTabName = function () {
                            return "Ordered";
                        };
                        GridInventoryGroupMovementsOrderedTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadGroupOrdered";
                        };
                        GridInventoryGroupMovementsOrderedTab.prototype.getColumnsConfig = function () {
                            var config = _super.prototype.getColumnsConfig.call(this);
                            config.QuantityAbsolute = config.Quantity;
                            config.Quantity = 0;
                            config.TotalPriceAbsolute = config.TotalPrice;
                            config.TotalPrice = 0;
                            config.Actions += config.Type;
                            config.Actions += config.Status;
                            config.Type = 0;
                            config.Status = 0;
                            config.OrderedQuantity = 0;
                            return config;
                        };
                        GridInventoryGroupMovementsOrderedTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Jobs",
                                click: function (e) {
                                    e.preventDefault();
                                    var data = _this.grid.dataItem(e.target.closest("tr"));
                                    var url = new DevGuild.AspNet.Routing.Uri("/InventoryMovements?workshop=" + _this.workshopId + "&sku=" + data.SKUId + "&tab=" + _this.getTabName() + "&group=false");
                                    url.navigate();
                                }
                            });
                            commands.push({
                                name: "CustomVerify",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "far fa-check-circle",
                                text: "&nbsp; Verify",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupVerify?workshop=" + _this.workshopId + "&sku=" + item.SKUId); }, function (item) { return ({
                                    title: "Verify movements",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupVerify")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomVerifyWithEdit",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-check-circle",
                                text: "&nbsp; Verify with Edit",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupVerifyWithEdit?workshop=" + _this.workshopId + "&sku=" + item.SKUId); }, function (item) { return ({
                                    title: "Verify movements with edit",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupVerifyWithEdit")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomCancel",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-ban",
                                text: "&nbsp; Cancel",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupCancel?workshop=" + _this.workshopId + "&sku=" + item.SKUId + "&status=Ordered"); }, function (item) { return ({
                                    title: "Cancel movements",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupCancel")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            return commands;
                        };
                        return GridInventoryGroupMovementsOrderedTab;
                    }(Index.GridInventoryGroupMovementsTabBase));
                    Index.GridInventoryGroupMovementsOrderedTab = GridInventoryGroupMovementsOrderedTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryGroupMovementsOrderedTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var AjaxFormsManager = DevGuild.AspNet.Forms.AjaxForms.AjaxFormsManager;
                    var GridInventoryGroupMovementsRequestedTab = /** @class */ (function (_super) {
                        __extends(GridInventoryGroupMovementsRequestedTab, _super);
                        function GridInventoryGroupMovementsRequestedTab(id, root, options, api) {
                            var _this = _super.call(this, id, root, options) || this;
                            _this._api = api;
                            return _this;
                        }
                        GridInventoryGroupMovementsRequestedTab.prototype.getTabName = function () {
                            return "Requested";
                        };
                        GridInventoryGroupMovementsRequestedTab.prototype.getEndpointUrl = function () {
                            return "/InventoryMovements/ReadGroupRequested";
                        };
                        GridInventoryGroupMovementsRequestedTab.prototype.getColumnsConfig = function () {
                            var config = _super.prototype.getColumnsConfig.call(this);
                            config.QuantityAbsolute = config.Quantity;
                            config.Quantity = 0;
                            config.TotalPriceAbsolute = config.TotalPrice;
                            config.TotalPrice = 0;
                            config.Actions += config.Type;
                            config.Actions += config.Status;
                            config.Type = 0;
                            config.Status = 0;
                            return config;
                        };
                        GridInventoryGroupMovementsRequestedTab.prototype.getColumnName = function (field, defaultName) {
                            switch (field) {
                                case "Quantity":
                                    return "Requested";
                                case "QuantityAbsolute":
                                    return "Requested";
                                default:
                                    return defaultName;
                            }
                        };
                        GridInventoryGroupMovementsRequestedTab.prototype.initializeCommands = function () {
                            var _this = this;
                            var commands = [];
                            commands.push({
                                name: "CustomOpenJob",
                                iconClass: "fas fa-link",
                                text: "&nbsp; Jobs",
                                click: function (e) {
                                    e.preventDefault();
                                    var data = _this.grid.dataItem(e.target.closest("tr"));
                                    var url = new DevGuild.AspNet.Routing.Uri("/InventoryMovements?workshop=" + _this.workshopId + "&sku=" + data.SKUId + "&tab=" + _this.getTabName() + "&group=false");
                                    url.navigate();
                                }
                            });
                            commands.push({
                                name: "CustomApprove",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "far fa-check-circle",
                                text: "&nbsp; Approve",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupApprove?workshop=" + _this.workshopId + "&sku=" + item.SKUId); }, function (item) { return ({
                                    title: "Approve movements",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupApprove")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomApproveWithEdit",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-check-circle",
                                text: "&nbsp; Approve with Edit",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupApproveWithEdit?workshop=" + _this.workshopId + "&sku=" + item.SKUId); }, function (item) { return ({
                                    title: "Approve movements with edit",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupApproveWithEdit")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            commands.push({
                                name: "CustomCancel",
                                className: this.workshopId === "" ? "k-state-disabled" : undefined,
                                iconClass: "fas fa-ban",
                                text: "&nbsp; Cancel",
                                click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/GroupCancel?workshop=" + _this.workshopId + "&sku=" + item.SKUId + "&status=Requested"); }, function (item) { return ({
                                    title: "Cancel movements",
                                    width: "1000px",
                                    height: "auto",
                                    refresh: function (e) {
                                        e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                            clickEvent.preventDefault();
                                            e.sender.close();
                                            e.sender.destroy();
                                        });
                                        e.sender.center();
                                    },
                                    open: function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, AjaxFormsManager.waitFor("InventoryMovementsGroupCancel")];
                                                case 1:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.grid.dataSource.read()];
                                                case 2:
                                                    _a.sent();
                                                    e.sender.close();
                                                    e.sender.destroy();
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); },
                                }); }),
                            });
                            return commands;
                        };
                        return GridInventoryGroupMovementsRequestedTab;
                    }(Index.GridInventoryGroupMovementsTabBase));
                    Index.GridInventoryGroupMovementsRequestedTab = GridInventoryGroupMovementsRequestedTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GridInventoryGroupMovementsRequestedTab.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Index;
                (function (Index) {
                    var StatsAvailableStockChart = /** @class */ (function () {
                        function StatsAvailableStockChart(type, dataSource, chart) {
                            this._type = type;
                            this._chart = chart;
                        }
                        Object.defineProperty(StatsAvailableStockChart.prototype, "id", {
                            get: function () {
                                return this._type.Id;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(StatsAvailableStockChart.prototype, "name", {
                            get: function () {
                                return this._type.Name;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(StatsAvailableStockChart.prototype, "dataSource", {
                            get: function () {
                                return this._dataSource;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(StatsAvailableStockChart.prototype, "chart", {
                            get: function () {
                                return this._chart;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        return StatsAvailableStockChart;
                    }());
                    Index.StatsAvailableStockChart = StatsAvailableStockChart;
                    var StatsInventoryMovementsAvailableStockTab = /** @class */ (function (_super) {
                        __extends(StatsInventoryMovementsAvailableStockTab, _super);
                        function StatsInventoryMovementsAvailableStockTab(id, root, options) {
                            var _this = _super.call(this, id, root) || this;
                            _this._charts = [];
                            _this._options = options;
                            return _this;
                        }
                        StatsInventoryMovementsAvailableStockTab.prototype.initInternal = function () {
                            this.root.innerHTML = "";
                            var chartsRoot = this.root.appendChild(document.createElement("div"));
                            chartsRoot.classList.add("inventory-charts");
                            var _loop_1 = function (type) {
                                var dataSource = this_1.createDataSource(type.Id);
                                var itemRoot = chartsRoot.appendChild(document.createElement("div"));
                                itemRoot.classList.add("inventory-charts__item");
                                itemRoot.setAttribute("data-sku-type", type.Id);
                                var itemTitle = itemRoot.appendChild(document.createElement("div"));
                                itemTitle.classList.add("inventory-charts__item__title");
                                itemTitle.appendChild(document.createTextNode(type.Name));
                                var itemFilter = itemRoot.appendChild(document.createElement("div"));
                                itemFilter.classList.add("inventory-charts__item__filter");
                                var itemFilterInput = itemFilter.appendChild(document.createElement("input"));
                                itemFilterInput.type = "text";
                                itemFilterInput.classList.add("k-textbox");
                                itemFilterInput.placeholder = "Filter SKUs";
                                var chartContainer = itemRoot.appendChild(document.createElement("div"));
                                chartContainer.classList.add("inventory-charts__item__chart");
                                var chartElement = chartContainer.appendChild(document.createElement("div"));
                                chartElement.classList.add("inventory-charts__item__chart__element");
                                var chart = $(chartElement).kendoChart({
                                    dataSource: dataSource,
                                    title: {
                                        visible: false,
                                    },
                                    legend: {
                                        visible: false,
                                    },
                                    seriesDefaults: {
                                        type: "bar",
                                        stack: true,
                                    },
                                    series: [
                                        {
                                            field: "ShelfQuantity",
                                            categoryField: "Name",
                                            name: "Shelf",
                                            color: "green",
                                        },
                                        {
                                            field: "TrayQuantity",
                                            categoryField: "Name",
                                            name: "Tray",
                                            color: "orange",
                                        },
                                        {
                                            field: "RequestedQuantity",
                                            categoryField: "Name",
                                            name: "Requested",
                                            color: "lightblue",
                                        },
                                        {
                                            field: "OrderedQuantity",
                                            categoryField: "Name",
                                            name: "Ordered",
                                            color: "blue",
                                        },
                                    ],
                                    valueAxis: {
                                        reverse: true,
                                        labels: {
                                            format: "#,##0.##",
                                        },
                                        majorUnit: 10,
                                        minorUnit: 1,
                                    },
                                    categoryAxis: {
                                        labels: {
                                            visual: function (e) {
                                                var labelVisual = e.createVisual();
                                                labelVisual.options.tooltip = {
                                                    content: e.value,
                                                };
                                                return labelVisual;
                                            },
                                            template: function (category) {
                                                if (category && category.value) {
                                                    return category.value.length > 47
                                                        ? category.value.substr(0, 44) + "..."
                                                        : category.value;
                                                }
                                                else {
                                                    return "";
                                                }
                                            },
                                        },
                                    },
                                    tooltip: {
                                        visible: true,
                                        template: "#: series.name #: #: value #",
                                    },
                                    dataBound: function (e) {
                                        var chart = e.sender;
                                        var distinctNames = chart.dataSource.data().map(function (x) { return x.Name; }).filter(function (x, i, a) { return a.indexOf(x) === i; }).length;
                                        var chartDistinctNames = parseInt(chartElement.getAttribute("data-count"));
                                        if (chartDistinctNames !== distinctNames) {
                                            chartElement.setAttribute("data-count", distinctNames.toString());
                                            chartElement.style.height = ((distinctNames * 30) + 30) + "px";
                                            chart.redraw();
                                        }
                                    },
                                }).data("kendoChart");
                                var item = new StatsAvailableStockChart(type, dataSource, chart);
                                this_1._charts.push(item);
                                itemFilterInput.addEventListener("input", function (e) {
                                    var newValue = itemFilterInput.value;
                                    if (newValue) {
                                        dataSource.filter([
                                            {
                                                field: "Name",
                                                operator: "contains",
                                                value: newValue,
                                            }
                                        ]);
                                    }
                                    else {
                                        dataSource.filter([]);
                                    }
                                });
                            };
                            var this_1 = this;
                            for (var _i = 0, _a = this._options.statsTypes; _i < _a.length; _i++) {
                                var type = _a[_i];
                                _loop_1(type);
                            }
                        };
                        StatsInventoryMovementsAvailableStockTab.prototype.activate = function () {
                        };
                        StatsInventoryMovementsAvailableStockTab.prototype.createDataSource = function (typeId) {
                            var dataSource = new kendo.data.DataSource({
                                type: "aspnetmvc-ajax",
                                transport: {
                                    read: {
                                        url: this._options.workshop
                                            ? "/Inventory/Statistics?type=" + typeId + "&workshop=" + this._options.workshop.Id
                                            : "/Inventory/Statistics?type=" + typeId,
                                    },
                                },
                                schema: {
                                    data: "Data",
                                    total: "Total",
                                    errors: "Errors",
                                    model: {
                                        id: "Id",
                                        fields: {
                                            "Id": { type: "string" },
                                            "TypeId": { type: "string" },
                                            "TypeName": { type: "string" },
                                            "Name": { type: "string" },
                                            "TotalQuantity": { type: "number" },
                                            "ShelfQuantity": { type: "number" },
                                            "TrayQuantity": { type: "number" },
                                            "OrderedQuantity": { type: "number" },
                                            "RequestedQuantity": { type: "number" },
                                        },
                                    },
                                },
                                sort: [
                                    { field: "OrderNo", dir: "asc" },
                                ],
                                serverAggregates: true,
                                serverFiltering: true,
                                serverGrouping: true,
                                serverPaging: true,
                                serverSorting: true,
                            });
                            return dataSource;
                        };
                        return StatsInventoryMovementsAvailableStockTab;
                    }(Index.InventoryMovementsTabBase));
                    Index.StatsInventoryMovementsAvailableStockTab = StatsInventoryMovementsAvailableStockTab;
                })(Index = InventoryMovements.Index || (InventoryMovements.Index = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=StatsInventoryMovementsAvailableStockTab.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Preview;
                (function (Preview) {
                    var InventoryMovementsPreviewOptions = /** @class */ (function () {
                        function InventoryMovementsPreviewOptions() {
                            this._sku = undefined;
                            this._workshop = undefined;
                            this._tab = undefined;
                        }
                        Object.defineProperty(InventoryMovementsPreviewOptions.prototype, "sku", {
                            get: function () {
                                return this._sku;
                            },
                            set: function (val) {
                                this._sku = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsPreviewOptions.prototype, "workshop", {
                            get: function () {
                                return this._workshop;
                            },
                            set: function (val) {
                                this._workshop = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        Object.defineProperty(InventoryMovementsPreviewOptions.prototype, "tab", {
                            get: function () {
                                return this._tab;
                            },
                            set: function (val) {
                                this._tab = val;
                            },
                            enumerable: false,
                            configurable: true
                        });
                        return InventoryMovementsPreviewOptions;
                    }());
                    Preview.InventoryMovementsPreviewOptions = InventoryMovementsPreviewOptions;
                })(Preview = InventoryMovements.Preview || (InventoryMovements.Preview = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementsPreviewOptions.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Preview;
                (function (Preview) {
                    var GridHandlers = DevGuild.AspNet.Controls.Grids.Handlers.GridHandlers;
                    var HandpieceStatusHelper = InventoryMovements.Shared.HandpieceStatusHelper;
                    var InventoryMovementsPreviewPage = /** @class */ (function () {
                        function InventoryMovementsPreviewPage(root, options) {
                            this._root = root;
                            this._options = options;
                        }
                        InventoryMovementsPreviewPage.prototype.init = function () {
                            this._dataSource = this.createDataSource(this.getUrlFromTab(), this._options.sku, this._options.workshop);
                            this._grid = this.createGrid();
                        };
                        InventoryMovementsPreviewPage.prototype.createGrid = function () {
                            var container = this._root.querySelector(".grid-container");
                            var grid = $(container)
                                .css("height", "100%")
                                .addClass("k-grid--dense")
                                .addClass("k-grid--small-text")
                                .kendoGrid({
                                dataSource: this._dataSource,
                                columns: [
                                    {
                                        title: "Date",
                                        field: "Date",
                                        width: "50px",
                                        template: function (data) { return "" + kendo.toString(data.Date, "d"); },
                                    },
                                    {
                                        title: "SKU",
                                        field: "SKUName",
                                        width: "150px",
                                    },
                                    {
                                        title: "QTY",
                                        field: "QuantityAbsolute",
                                        width: "50px",
                                    },
                                    {
                                        title: "Client",
                                        field: "ClientId",
                                        width: "100px",
                                        template: function (data) {
                                            if (!data.ClientId || !data.ClientFullName) {
                                                return "";
                                            }
                                            var link = document.createElement("a");
                                            link.href = "/Clients/Details/" + data.ClientId;
                                            link.appendChild(document.createTextNode(data.ClientFullName));
                                            return link.outerHTML;
                                        }
                                    },
                                    {
                                        title: "Job",
                                        field: "HandpieceNumber",
                                        width: "50px",
                                        template: function (data) {
                                            if (!data.HandpieceId) {
                                                return "";
                                            }
                                            return "<a style=\"color: #007bff;\" href=\"/Handpieces/Edit/" + data.HandpieceId + "\">" + data.HandpieceNumber + "</a> ";
                                        },
                                    },
                                    {
                                        title: "Job Status",
                                        field: "HandpieceStatus",
                                        width: "150px",
                                        template: function (data) {
                                            if (!data.HandpieceId) {
                                                return "";
                                            }
                                            return HandpieceStatusHelper.toDisplayString(data.HandpieceStatus);
                                        },
                                    },
                                    {
                                        title: "Price",
                                        field: "FinalPrice",
                                        width: "50px",
                                        template: function (data) {
                                            if (data.FinalPrice === undefined || data.FinalPrice === null) {
                                                return "";
                                            }
                                            if (data.MovementPrice === undefined || data.MovementPrice === null) {
                                                return "<i>$" + kendo.toString(data.FinalPrice, "#,##0.##") + "</i>";
                                            }
                                            return "$" + kendo.toString(data.FinalPrice, "#,##0.##");
                                        }
                                    },
                                    {
                                        title: "Total",
                                        field: "TotalPriceAbsolute",
                                        width: "50px",
                                        template: function (data) {
                                            if (data.TotalPriceAbsolute === undefined || data.TotalPriceAbsolute === null) {
                                                return "";
                                            }
                                            if (data.MovementPrice === undefined || data.MovementPrice === null) {
                                                return "<i>$" + kendo.toString(data.TotalPriceAbsolute, "#,##0.##") + "</i>";
                                            }
                                            return "$" + kendo.toString(data.TotalPriceAbsolute, "#,##0.##");
                                        }
                                    },
                                    {
                                        title: "Actions",
                                        width: "50px",
                                        command: {
                                            name: "CustomHistory",
                                            iconClass: "fas fa-history",
                                            text: "&nbsp;",
                                            click: GridHandlers.createButtonClickPopupHandler(function (item) { return new DevGuild.AspNet.Routing.Uri("/InventoryMovements/History/" + item.Id); }, function (item) { return ({
                                                title: "Move history",
                                                width: "1000px",
                                                height: "auto",
                                                refresh: function (e) {
                                                    e.sender.wrapper.on("click", ".editor__submit__cancel", function (clickEvent) {
                                                        clickEvent.preventDefault();
                                                        e.sender.close();
                                                        e.sender.destroy();
                                                    });
                                                    e.sender.center();
                                                },
                                            }); }),
                                        },
                                    }
                                ]
                            }).data("kendoGrid");
                            return grid;
                        };
                        InventoryMovementsPreviewPage.prototype.getUrlFromTab = function () {
                            switch (this._options.tab) {
                                case "All":
                                    return "/InventoryMovements/ReadAll";
                                case "Tray":
                                    return "/InventoryMovements/ReadTray";
                                case "Ordered":
                                    return "/InventoryMovements/ReadOrdered";
                                case "ApprovedAndRequested":
                                    return "/InventoryMovements/ReadApprovedAndRequested";
                                case "Approved":
                                    return "/InventoryMovements/ReadApproved";
                                case "Requested":
                                    return "/InventoryMovements/ReadRequested";
                                case "Complete":
                                    return "/InventoryMovements/ReadComplete";
                                default:
                                    throw new Error("Unknown tab " + this._options.tab);
                            }
                        };
                        InventoryMovementsPreviewPage.prototype.createDataSource = function (url, sku, workshop) {
                            var dataSource = new kendo.data.DataSource({
                                type: "aspnetmvc-ajax",
                                transport: {
                                    read: {
                                        url: url,
                                        data: function () { return ({ sku: sku, workshop: workshop }); },
                                    },
                                },
                                schema: {
                                    data: "Data",
                                    total: "Total",
                                    errors: "Errors",
                                    model: {
                                        id: "Id",
                                        fields: {
                                            "Date": { type: "Date" },
                                            "SKUId": { type: "string" },
                                            "SKUName": { type: "string" },
                                            "Quantity": { type: "number" },
                                            "QuantityAbsolute": { type: "number" },
                                            "Type": { type: "number" },
                                            "Status": { type: "number" },
                                            "HandpieceId": { type: "string" },
                                            "HandpieceNumber": { type: "string" },
                                            "HandpieceStatus": { type: "number" },
                                            "ClientId": { type: "string" },
                                            "ClientFullName": { type: "string" },
                                            "AveragePrice": { type: "number" },
                                            "MovementPrice": { type: "number" },
                                            "FinalPrice": { type: "number" },
                                            "TotalPrice": { type: "number" },
                                            "TotalPriceAbsolute": { type: "number" },
                                        },
                                    },
                                },
                                sort: [
                                    { field: "SKUTypeOrderNo", dir: "asc" },
                                    { field: "SKUOrderNo", dir: "asc" },
                                    { field: "Date", dir: "asc" },
                                ],
                                serverAggregates: true,
                                serverFiltering: true,
                                serverGrouping: true,
                                serverPaging: true,
                                serverSorting: true,
                            });
                            return dataSource;
                        };
                        return InventoryMovementsPreviewPage;
                    }());
                    Preview.InventoryMovementsPreviewPage = InventoryMovementsPreviewPage;
                })(Preview = InventoryMovements.Preview || (InventoryMovements.Preview = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementsPreviewPage.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var GroupApprove;
                (function (GroupApprove) {
                    var InventoryMovementBulkViewer = InventoryMovements.Shared.InventoryMovementBulkViewer;
                    var GroupApproveEditor = /** @class */ (function (_super) {
                        __extends(GroupApproveEditor, _super);
                        function GroupApproveEditor(root, movements) {
                            return _super.call(this, root, movements) || this;
                        }
                        GroupApproveEditor.prototype.init = function () {
                            _super.prototype.init.call(this);
                            var setPriceCheckbox = this.root.querySelector("input[type=checkbox][name=SetPrice]");
                            var priceTextBox = this.root.querySelector("input[name=Price]");
                            setPriceCheckbox.addEventListener("change", function (e) {
                                if (setPriceCheckbox.checked) {
                                    priceTextBox.disabled = false;
                                }
                                else {
                                    priceTextBox.disabled = true;
                                }
                            });
                        };
                        return GroupApproveEditor;
                    }(InventoryMovementBulkViewer));
                    GroupApprove.GroupApproveEditor = GroupApproveEditor;
                })(GroupApprove = InventoryMovements.GroupApprove || (InventoryMovements.GroupApprove = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GroupApproveEditor.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var GroupApproveWithEdit;
                (function (GroupApproveWithEdit) {
                    var InventoryMovementBulkEditor = InventoryMovements.Shared.InventoryMovementBulkEditor;
                    var GroupApproveWithEditEditor = /** @class */ (function (_super) {
                        __extends(GroupApproveWithEditEditor, _super);
                        function GroupApproveWithEditEditor(root, movements) {
                            return _super.call(this, root, movements) || this;
                        }
                        return GroupApproveWithEditEditor;
                    }(InventoryMovementBulkEditor));
                    GroupApproveWithEdit.GroupApproveWithEditEditor = GroupApproveWithEditEditor;
                })(GroupApproveWithEdit = InventoryMovements.GroupApproveWithEdit || (InventoryMovements.GroupApproveWithEdit = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GroupApproveWithEditEditor.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var GroupCancel;
                (function (GroupCancel) {
                    var InventoryMovementBulkViewer = InventoryMovements.Shared.InventoryMovementBulkViewer;
                    var GroupCancelEditor = /** @class */ (function (_super) {
                        __extends(GroupCancelEditor, _super);
                        function GroupCancelEditor(root, movements) {
                            return _super.call(this, root, movements) || this;
                        }
                        return GroupCancelEditor;
                    }(InventoryMovementBulkViewer));
                    GroupCancel.GroupCancelEditor = GroupCancelEditor;
                })(GroupCancel = InventoryMovements.GroupCancel || (InventoryMovements.GroupCancel = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GroupCancelEditor.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var GroupOrder;
                (function (GroupOrder) {
                    var InventoryMovementBulkViewer = InventoryMovements.Shared.InventoryMovementBulkViewer;
                    var GroupOrderEditor = /** @class */ (function (_super) {
                        __extends(GroupOrderEditor, _super);
                        function GroupOrderEditor(root, movements) {
                            return _super.call(this, root, movements) || this;
                        }
                        GroupOrderEditor.prototype.init = function () {
                            _super.prototype.init.call(this);
                            var setPriceCheckbox = this.root.querySelector("input[type=checkbox][name=SetPrice]");
                            var priceTextBox = this.root.querySelector("input[name=Price]");
                            setPriceCheckbox.addEventListener("change", function (e) {
                                if (setPriceCheckbox.checked) {
                                    priceTextBox.disabled = false;
                                }
                                else {
                                    priceTextBox.disabled = true;
                                }
                            });
                        };
                        return GroupOrderEditor;
                    }(InventoryMovementBulkViewer));
                    GroupOrder.GroupOrderEditor = GroupOrderEditor;
                })(GroupOrder = InventoryMovements.GroupOrder || (InventoryMovements.GroupOrder = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GroupOrderEditor.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var GroupOrderWithEdit;
                (function (GroupOrderWithEdit) {
                    var InventoryMovementBulkEditor = InventoryMovements.Shared.InventoryMovementBulkEditor;
                    var GroupOrderWithEditEditor = /** @class */ (function (_super) {
                        __extends(GroupOrderWithEditEditor, _super);
                        function GroupOrderWithEditEditor(root, movements) {
                            return _super.call(this, root, movements) || this;
                        }
                        return GroupOrderWithEditEditor;
                    }(InventoryMovementBulkEditor));
                    GroupOrderWithEdit.GroupOrderWithEditEditor = GroupOrderWithEditEditor;
                })(GroupOrderWithEdit = InventoryMovements.GroupOrderWithEdit || (InventoryMovements.GroupOrderWithEdit = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GroupOrderWithEditEditor.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var GroupVerify;
                (function (GroupVerify) {
                    var InventoryMovementBulkViewer = InventoryMovements.Shared.InventoryMovementBulkViewer;
                    var GroupVerifyEditor = /** @class */ (function (_super) {
                        __extends(GroupVerifyEditor, _super);
                        function GroupVerifyEditor(root, movements) {
                            return _super.call(this, root, movements) || this;
                        }
                        GroupVerifyEditor.prototype.init = function () {
                            _super.prototype.init.call(this);
                            var setPriceCheckbox = this.root.querySelector("input[type=checkbox][name=SetPrice]");
                            var priceTextBox = this.root.querySelector("input[name=Price]");
                            setPriceCheckbox.addEventListener("change", function (e) {
                                if (setPriceCheckbox.checked) {
                                    priceTextBox.disabled = false;
                                }
                                else {
                                    priceTextBox.disabled = true;
                                }
                            });
                        };
                        return GroupVerifyEditor;
                    }(InventoryMovementBulkViewer));
                    GroupVerify.GroupVerifyEditor = GroupVerifyEditor;
                })(GroupVerify = InventoryMovements.GroupVerify || (InventoryMovements.GroupVerify = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GroupVerifyEditor.js.map
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var GroupVerifyWithEdit;
                (function (GroupVerifyWithEdit) {
                    var InventoryMovementBulkEditor = InventoryMovements.Shared.InventoryMovementBulkEditor;
                    var GroupVerifyWithEditEditor = /** @class */ (function (_super) {
                        __extends(GroupVerifyWithEditEditor, _super);
                        function GroupVerifyWithEditEditor(root, movements) {
                            return _super.call(this, root, movements) || this;
                        }
                        return GroupVerifyWithEditEditor;
                    }(InventoryMovementBulkEditor));
                    GroupVerifyWithEdit.GroupVerifyWithEditEditor = GroupVerifyWithEditEditor;
                })(GroupVerifyWithEdit = InventoryMovements.GroupVerifyWithEdit || (InventoryMovements.GroupVerifyWithEdit = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=GroupVerifyWithEditEditor.js.map
var DentalDrill;
(function (DentalDrill) {
    var CRM;
    (function (CRM) {
        var Pages;
        (function (Pages) {
            var InventoryMovements;
            (function (InventoryMovements) {
                var Create;
                (function (Create) {
                    var InventoryMovementCreateType = InventoryMovements.Shared.InventoryMovementCreateType;
                    var InventoryMovementStatus = InventoryMovements.Shared.InventoryMovementStatus;
                    var InventoryMovementStatusHelper = InventoryMovements.Shared.InventoryMovementStatusHelper;
                    var WorkshopDirection;
                    (function (WorkshopDirection) {
                        WorkshopDirection[WorkshopDirection["From"] = 0] = "From";
                        WorkshopDirection[WorkshopDirection["To"] = 1] = "To";
                    })(WorkshopDirection || (WorkshopDirection = {}));
                    var InventoryMovementCreateEditor = /** @class */ (function () {
                        function InventoryMovementCreateEditor(root, availableWorkshops, preselectedWorkshop) {
                            this._root = root;
                            this._rootNode = $(root);
                            this._availableWorkshops = availableWorkshops;
                            this._preselectedWorkshop = preselectedWorkshop;
                            this._dropdownType = this._rootNode.find("#Type").data("kendoDropDownList");
                            this._dropdownStatus = this._rootNode.find("#Status").data("kendoDropDownList");
                            this._dropdownFromWorkshop = this._rootNode.find("#FromWorkshop").data("kendoDropDownList");
                            this._dropdownToWorkshop = this._rootNode.find("#ToWorkshop").data("kendoDropDownList");
                        }
                        InventoryMovementCreateEditor.prototype.init = function () {
                            this._dropdownType.bind("change", this.processTypeChange.bind(this));
                            this.processTypeChange();
                        };
                        InventoryMovementCreateEditor.prototype.processTypeChange = function () {
                            var _this = this;
                            var type = parseInt(this._dropdownType.value());
                            switch (type) {
                                case InventoryMovementCreateType.Order:
                                    this.setAvailableStatuses([
                                        InventoryMovementStatus.Ordered,
                                        InventoryMovementStatus.Approved,
                                        InventoryMovementStatus.Requested
                                    ]);
                                    if (this._preselectedWorkshop) {
                                        this.configureWorkshops(WorkshopDirection.From, false, [], undefined);
                                        this.configureWorkshops(WorkshopDirection.To, true, [this._preselectedWorkshop], this._preselectedWorkshop.Id);
                                    }
                                    else {
                                        this.configureWorkshops(WorkshopDirection.From, false, [], undefined);
                                        this.configureWorkshops(WorkshopDirection.To, true, this._availableWorkshops, undefined);
                                    }
                                    break;
                                case InventoryMovementCreateType.Found:
                                    this.setAvailableStatuses([
                                        InventoryMovementStatus.Completed
                                    ]);
                                    if (this._preselectedWorkshop) {
                                        this.configureWorkshops(WorkshopDirection.From, false, [], undefined);
                                        this.configureWorkshops(WorkshopDirection.To, true, [this._preselectedWorkshop], this._preselectedWorkshop.Id);
                                    }
                                    else {
                                        this.configureWorkshops(WorkshopDirection.From, false, [], undefined);
                                        this.configureWorkshops(WorkshopDirection.To, true, this._availableWorkshops, undefined);
                                    }
                                    break;
                                case InventoryMovementCreateType.Lost:
                                    this.setAvailableStatuses([
                                        InventoryMovementStatus.Completed
                                    ]);
                                    if (this._preselectedWorkshop) {
                                        this.configureWorkshops(WorkshopDirection.From, true, [this._preselectedWorkshop], this._preselectedWorkshop.Id);
                                        this.configureWorkshops(WorkshopDirection.To, false, [], undefined);
                                    }
                                    else {
                                        this.configureWorkshops(WorkshopDirection.From, true, this._availableWorkshops, undefined);
                                        this.configureWorkshops(WorkshopDirection.To, false, [], undefined);
                                    }
                                    break;
                                case InventoryMovementCreateType.MoveBetweenWorkshops:
                                    this.setAvailableStatuses([
                                        InventoryMovementStatus.Completed
                                    ]);
                                    this.configureWorkshops(WorkshopDirection.From, true, this._availableWorkshops, undefined);
                                    this.configureWorkshops(WorkshopDirection.To, true, this._availableWorkshops, undefined);
                                    break;
                                case InventoryMovementCreateType.MoveFromAnotherWorkshop:
                                    this.setAvailableStatuses([
                                        InventoryMovementStatus.Completed
                                    ]);
                                    if (this._preselectedWorkshop) {
                                        this.configureWorkshops(WorkshopDirection.From, true, this._availableWorkshops.filter(function (x) { return x.Id !== _this._preselectedWorkshop.Id; }), undefined);
                                        this.configureWorkshops(WorkshopDirection.To, true, [this._preselectedWorkshop], this._preselectedWorkshop.Id);
                                    }
                                    else {
                                        this.configureWorkshops(WorkshopDirection.From, true, this._availableWorkshops, undefined);
                                        this.configureWorkshops(WorkshopDirection.To, true, this._availableWorkshops, undefined);
                                    }
                                    break;
                                case InventoryMovementCreateType.MoveToAnotherWorkshop:
                                    this.setAvailableStatuses([
                                        InventoryMovementStatus.Completed
                                    ]);
                                    if (this._preselectedWorkshop) {
                                        this.configureWorkshops(WorkshopDirection.From, true, [this._preselectedWorkshop], this._preselectedWorkshop.Id);
                                        this.configureWorkshops(WorkshopDirection.To, true, this._availableWorkshops.filter(function (x) { return x.Id !== _this._preselectedWorkshop.Id; }), undefined);
                                    }
                                    else {
                                        this.configureWorkshops(WorkshopDirection.From, true, this._availableWorkshops, undefined);
                                        this.configureWorkshops(WorkshopDirection.To, true, this._availableWorkshops, undefined);
                                    }
                                    break;
                            }
                        };
                        InventoryMovementCreateEditor.prototype.setAvailableStatuses = function (statuses) {
                            var oldStatus = this.getSelectedStatus();
                            this._dropdownStatus.dataSource.data(statuses.map(function (x) { return ({ Value: x, Text: InventoryMovementStatusHelper.toDisplayString(x) }); }));
                            if (statuses.indexOf(oldStatus) >= 0) {
                                this._dropdownStatus.value(oldStatus.toString());
                            }
                            else {
                                this._dropdownStatus.value(statuses[0].toString());
                            }
                        };
                        InventoryMovementCreateEditor.prototype.getSelectedStatus = function () {
                            var val = this._dropdownStatus.value();
                            if (val === undefined || val === null || val === "") {
                                return undefined;
                            }
                            var valInt = parseInt(val);
                            if (valInt === NaN) {
                                return undefined;
                            }
                            return valInt;
                        };
                        InventoryMovementCreateEditor.prototype.configureWorkshops = function (direction, enabled, available, selected) {
                            var workshopDropDownList = this.getWorkshopControl(direction);
                            workshopDropDownList.enable(enabled);
                            if (selected === undefined && available.length > 1) {
                                workshopDropDownList.dataSource.data([]);
                                workshopDropDownList.value(undefined);
                                workshopDropDownList.dataSource.data(available);
                            }
                            else if (selected === undefined && available.length == 1) {
                                workshopDropDownList.dataSource.data(available);
                                workshopDropDownList.value(available[0].Id);
                            }
                            else {
                                workshopDropDownList.dataSource.data(available);
                                workshopDropDownList.value(selected);
                            }
                        };
                        InventoryMovementCreateEditor.prototype.getWorkshopControl = function (direction) {
                            switch (direction) {
                                case WorkshopDirection.From:
                                    return this._dropdownFromWorkshop;
                                case WorkshopDirection.To:
                                    return this._dropdownToWorkshop;
                                default:
                                    throw new Error("Invalid workshop direction");
                            }
                        };
                        return InventoryMovementCreateEditor;
                    }());
                    Create.InventoryMovementCreateEditor = InventoryMovementCreateEditor;
                })(Create = InventoryMovements.Create || (InventoryMovements.Create = {}));
            })(InventoryMovements = Pages.InventoryMovements || (Pages.InventoryMovements = {}));
        })(Pages = CRM.Pages || (CRM.Pages = {}));
    })(CRM = DentalDrill.CRM || (DentalDrill.CRM = {}));
})(DentalDrill || (DentalDrill = {}));
//# sourceMappingURL=InventoryMovementCreateEditor.js.map